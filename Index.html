<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diandra Cahya - Portofolio</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            /* Keep this to prevent page scroll */
            font-family: 'Arial', sans-serif;
            background-color: #050520;
            color: white;
            height: 100vh;
            /* Fix height to viewport */
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .overlay {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 2;
            background-color: rgba(5, 15, 30, 0.7);
            padding: 15px;
            border-radius: 10px;
            max-width: 300px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 150, 255, 0.3);
            box-shadow: 0 0 15px rgba(0, 150, 255, 0.5);
        }

        .content-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(5, 15, 30, 0.9);
            backdrop-filter: blur(15px);
            display: none;
            z-index: 3;
            padding: 50px;
            box-sizing: border-box;
        }

        .close-btn {
            position: absolute;
            top: 30px;
            right: 40px;
            background: none;
            border: 2px solid rgba(0, 150, 255, 0.5);
            color: white;
            font-size: 18px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .close-btn:hover {
            background-color: rgba(0, 150, 255, 0.3);
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.7);
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #050520;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            flex-direction: column;
        }

        .loading-text {
            font-size: 24px;
            color: white;
            text-align: center;
            margin-bottom: 20px;
        }

        .progress-container {
            width: 300px;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00a1ff, #00ff8f);
            position: absolute;
            top: 0;
            left: 0;
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(0, 161, 255, 0.7);
            transition: width 0.1s ease;
        }

        .side-content {
            height: calc(100vh - 100px);
            /* Account for padding */
            padding: 30px;
            max-width: 800px;
            margin: 0 auto;
            overflow-y: auto;
            /* Make only the content area scrollable */
            /* Add custom scrollbar styling */
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 161, 255, 0.5) rgba(5, 15, 30, 0.3);
        }

        /* Add custom scrollbar styling for WebKit browsers */
        .side-content::-webkit-scrollbar {
            width: 8px;
        }

        .side-content::-webkit-scrollbar-track {
            background: rgba(5, 15, 30, 0.3);
            border-radius: 4px;
        }

        .side-content::-webkit-scrollbar-thumb {
            background: rgba(0, 161, 255, 0.5);
            border-radius: 4px;
        }

        .side-content h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: #00a1ff;
            text-shadow: 0 0 10px rgba(0, 161, 255, 0.5);
        }

        .core-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            padding: 30px;
            background: radial-gradient(circle, rgba(0, 100, 200, 0.2) 0%, rgba(0, 0, 0, 0) 70%);
            border-radius: 20px;
            animation: pulse 3s infinite;
            position: relative;
        }

        .core-content::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #00a1ff, #00ff8f, #00a1ff);
            border-radius: 22px;
            z-index: -1;
            opacity: 0.7;
            filter: blur(5px);
            animation: borderLight 3s linear infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 10px rgba(0, 161, 255, 0.5);
            }

            50% {
                box-shadow: 0 0 30px rgba(0, 161, 255, 0.8);
            }

            100% {
                box-shadow: 0 0 10px rgba(0, 161, 255, 0.5);
            }
        }

        @keyframes borderLight {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .hologram-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(0deg,
                    rgba(0, 161, 255, 0.1) 0px,
                    rgba(0, 161, 255, 0.1) 1px,
                    transparent 1px,
                    transparent 2px);
            opacity: 0.2;
            pointer-events: none;
            z-index: 4;
        }

        .corner-decoration {
            position: absolute;
            width: 50px;
            height: 50px;
            border: 2px solid rgba(0, 161, 255, 0.7);
            z-index: 5;
        }

        .top-left {
            top: 20px;
            left: 20px;
            border-right: none;
            border-bottom: none;
        }

        .top-right {
            top: 20px;
            right: 20px;
            border-left: none;
            border-bottom: none;
        }

        .bottom-left {
            bottom: 20px;
            left: 20px;
            border-right: none;
            border-top: none;
        }

        .bottom-right {
            bottom: 20px;
            right: 20px;
            border-left: none;
            border-top: none;
        }

        .tech-circles {
            position: absolute;
            bottom: 30px;
            right: 30px;
            display: flex;
        }

        .tech-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(0, 161, 255, 0.2);
            margin-left: 10px;
            border: 1px solid rgba(0, 161, 255, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: rgba(0, 161, 255, 0.9);
        }

        .core-btn {
            background: rgba(0, 161, 255, 0.2);
            border: 2px solid rgba(0, 161, 255, 0.7);
            color: white;
            font-size: 16px;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            z-index: 1;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 161, 255, 0.3);
            backdrop-filter: blur(5px);
        }

        .core-btn:hover {
            background-color: rgba(0, 161, 255, 0.4);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 161, 255, 0.7);
        }
    </style>
</head>

<body>
    <div class="loading">
        <div class="loading-text">
            Welcome to Diandra's Portfolio<br>
            <span id="loading-status">Preparing your journey...</span>
        </div>
        <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
    </div>

    <div id="canvas-container"></div>

    <div class="overlay">
        <h3>Diandra Cahya Saputra</h3>
        <p>Geser untuk memutar kubus.<br>Klik pada sisi manapun untuk menjelajahi.</p>

        <div class="color-guide">
            <p>Warna Sisi Kubus:</p>
            <ul>
                <li><span style="color: #4286f4">■</span> Biru - Tentang Saya: Siapa saya dan apa yang saya lakukan</li>
                <li><span style="color: #4fc3f7">■</span> Biru Muda - Proyek: Karya unggulan dan pencapaian</li>
                <li><span style="color: #8bc34a">■</span> Hijau - Keahlian: Kemampuan teknis dan keahlian</li>
                <li><span style="color: #9c27b0">■</span> Ungu - Visi: Tujuan dan aspirasi masa depan</li>
                <li><span style="color: #ff9800">■</span> Oranye - Sertifikat: Pencapaian dan kualifikasi</li>
                <li><span style="color: #ff4081">■</span> Merah Muda - Kontak: Informasi kontak dan media sosial</li>
            </ul>
        </div>

        <button id="core-btn" class="core-btn">Core Of Me</button>
    </div>

    <!-- Side 1: About Me -->
    <div id="side1-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="side-content">
            <h2>About Me</h2>
            <div id="timeline-container">
                <!-- About Me content will be added via JavaScript -->
                <p>Informasi tentang diri saya akan muncul di sini dengan elemen interaktif dan animasi.</p>
            </div>
        </div>
    </div>

    <!-- Side 2: Projects -->
    <div id="side2-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="side-content">
            <h2>Featured Projects</h2>
            <div id="projects-container">
                <!-- Projects content will be added via JavaScript -->
                <p>This is where your featured projects will be displayed with interactive 3D previews that visitors can
                    explore.</p>
            </div>
        </div>
    </div>

    <!-- Side 3: Skills -->
    <div id="side3-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="side-content">
            <h2>Skill Set</h2>
            <div id="skills-container">
                <!-- Skills content will be added via JavaScript -->
                <p>This section will showcase your skills with animated particle effects and geometric visual
                    representations.</p>
            </div>
        </div>
    </div>

    <!-- Side 4: Future Vision -->
    <div id="side4-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="side-content">
            <h2>Vision of the Future</h2>
            <div id="vision-container">
                <!-- Vision content will be added via JavaScript -->
                <p>This is where your future vision will be represented as a small 3D world that visitors can explore.
                </p>
            </div>
        </div>
    </div>

    <!-- Side 5: Testimonials -->
    <div id="side5-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="side-content">
            <h2>Testimonials</h2>
            <div id="testimonials-container">
                <!-- Testimonials content will be added via JavaScript -->
                <p>This section will display testimonials as floating notes in a 3D space.</p>
            </div>
        </div>
    </div>

    <!-- Side 6: Gallery -->
    <div id="side6-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="side-content">
            <h2>Experimental Gallery</h2>
            <div id="gallery-container">
                <!-- Gallery content will be added via JavaScript -->
                <p>This is your experimental gallery where you can showcase code experiments, design sketches, and even
                    mini-games.</p>
            </div>
        </div>
    </div>

    <!-- Core Content -->
    <div id="core-content" class="content-container">
        <div class="hologram-effect"></div>
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration top-right"></div>
        <div class="corner-decoration bottom-left"></div>
        <div class="corner-decoration bottom-right"></div>
        <button class="close-btn">×</button>
        <div class="core-content">
            <h2>The Core of Me</h2>
            <p>This is the innermost part of who I am - my personal manifesto and the driving force behind everything I
                create.</p>
            <!-- Core content will be enhanced via JavaScript -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script>
        // Global variables
        let scene, camera, renderer, cube, light, pointLight;
        let cubeEdges, cubeVertices, cubeOutline, cubeGlow;
        let cubeFaces = [];
        let isRotating = true;
        let targetRotation = { x: 0, y: 0 };
        let sidesDiscovered = [false, false, false, false, false, false];
        let transforming = false;
        let particles = [];
        let particleSystem;

        // Simulate loading progress with tech messages
        function simulateLoading() {
            let progress = 0;
            const progressBar = document.getElementById('progress-bar');
            const statusText = document.getElementById('loading-status');

            const interval = setInterval(() => {
                progress += 3 + Math.random() * 5;
                if (progress > 100) progress = 100;

                progressBar.style.width = `${progress}%`;

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        gsap.to('.loading', {
                            opacity: 0,
                            duration: 1,
                            onComplete: () => {
                                document.querySelector('.loading').style.display = 'none';
                                init(); // Initialize after loading completes
                            }
                        });
                    }, 800);
                }
            }, 180);
        }

        // Start the loading simulation when the page loads
        window.addEventListener('DOMContentLoaded', simulateLoading);

        // Initialize the scene
        function init() {
            // Create scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x050520);

            // Create camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            // Create renderer with better quality
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // Add ambient light
            const ambientLight = new THREE.AmbientLight(0x333333);
            scene.add(ambientLight);

            // Add directional light
            light = new THREE.DirectionalLight(0xffffff, 1);
            light.position.set(5, 5, 5);
            light.castShadow = true;
            scene.add(light);

            // Add point light inside the cube for glow
            pointLight = new THREE.PointLight(0x00a1ff, 2, 10);
            pointLight.position.set(0, 0, 0);
            scene.add(pointLight);

            // Create cube materials with better looks
            createCubeMaterials();

            // Create particles
            createParticles();

            // Add event listeners
            window.addEventListener('resize', onWindowResize);
            document.addEventListener('mousedown', onMouseDown);
            document.addEventListener('touchstart', onTouchStart);

            // Add close button event listeners
            document.querySelectorAll('.close-btn').forEach(button => {
                button.addEventListener('click', closeContent);
            });

            // Add close button event listeners
            document.querySelectorAll('.close-btn').forEach(button => {
                button.addEventListener('click', closeContent);
            });

            // Tambahkan event listener untuk tombol Core
            document.getElementById('core-btn').addEventListener('click', explodeCubeAndOpenCore);

            // Start animation with initial animation
            animateCubeEntry();
            animate();
        }

        // Create cube materials with advanced look
        function createCubeMaterials() {
            // Define cube face colors
            const sideColors = [
                0x4286f4, // Journey - Blue
                0x4fc3f7, // Projects - Light Blue
                0x8bc34a, // Skills - Green
                0x9c27b0, // Vision - Purple
                0xff9800, // Testimonials - Orange
                0xff4081  // Gallery - Pink
            ];

            // Create cube geometry
            const geometry = new THREE.BoxGeometry(2, 2, 2);

            // Create materials for each face
            for (let i = 0; i < 6; i++) {
                const material = new THREE.MeshPhongMaterial({
                    color: sideColors[i],
                    transparent: true,
                    opacity: 0.8,
                    specular: 0xffffff,
                    shininess: 100,
                    reflectivity: 1
                });

                // Create face geometry for each side (slightly smaller than the main cube)
                const faceGeom = new THREE.PlaneGeometry(1.9, 1.9);
                let faceMesh;

                // Position each face in the correct orientation
                switch (i) {
                    case 0: // Front
                        faceMesh = new THREE.Mesh(faceGeom, material);
                        faceMesh.position.z = 1.01;
                        break;
                    case 1: // Back
                        faceMesh = new THREE.Mesh(faceGeom, material);
                        faceMesh.position.z = -1.01;
                        faceMesh.rotation.y = Math.PI;
                        break;
                    case 2: // Top
                        faceMesh = new THREE.Mesh(faceGeom, material);
                        faceMesh.position.y = 1.01;
                        faceMesh.rotation.x = -Math.PI / 2;
                        break;
                    case 3: // Bottom
                        faceMesh = new THREE.Mesh(faceGeom, material);
                        faceMesh.position.y = -1.01;
                        faceMesh.rotation.x = Math.PI / 2;
                        break;
                    case 4: // Right
                        faceMesh = new THREE.Mesh(faceGeom, material);
                        faceMesh.position.x = 1.01;
                        faceMesh.rotation.y = Math.PI / 2;
                        break;
                    case 5: // Left
                        faceMesh = new THREE.Mesh(faceGeom, material);
                        faceMesh.position.x = -1.01;
                        faceMesh.rotation.y = -Math.PI / 2;
                        break;
                }

                faceMesh.userData = { faceIndex: i };
                cubeFaces.push(faceMesh);
            }

            // Create inner cube for structure
            const innerCubeMaterial = new THREE.MeshPhongMaterial({
                color: 0x111111,
                transparent: true,
                opacity: 0.5,
                wireframe: false
            });

            cube = new THREE.Mesh(geometry, innerCubeMaterial);
            scene.add(cube);

            // Add all face meshes to the cube
            cubeFaces.forEach(face => {
                cube.add(face);
            });

            // Add wireframe edges
            const edgesGeometry = new THREE.EdgesGeometry(geometry);
            const edgesMaterial = new THREE.LineBasicMaterial({
                color: 0x00a1ff,
                linewidth: 2,
                transparent: true,
                opacity: 0.8
            });
            cubeEdges = new THREE.LineSegments(edgesGeometry, edgesMaterial);
            cube.add(cubeEdges);

            // Add vertices as small spheres
            cubeVertices = new THREE.Group();
            const vertexPositions = [
                [-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1],
                [-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1]
            ];

            const vertexGeometry = new THREE.SphereGeometry(0.08, 16, 16);
            const vertexMaterial = new THREE.MeshBasicMaterial({ color: 0x00ffff });

            vertexPositions.forEach(pos => {
                const vertexMesh = new THREE.Mesh(vertexGeometry, vertexMaterial);
                vertexMesh.position.set(pos[0], pos[1], pos[2]);
                cubeVertices.add(vertexMesh);
            });

            cube.add(cubeVertices);

            // Create outer glow
            const glowGeometry = new THREE.BoxGeometry(2.15, 2.15, 2.15);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: 0x00a1ff,
                transparent: true,
                opacity: 0.1,
                side: THREE.BackSide
            });
            cubeGlow = new THREE.Mesh(glowGeometry, glowMaterial);
            cube.add(cubeGlow);
        }

        // Create particle system around the cube
        function createParticles() {
            const particleGeo = new THREE.BufferGeometry();
            const particleCount = 200;

            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);

            const colorChoices = [
                new THREE.Color(0x00a1ff),
                new THREE.Color(0x00ffff),
                new THREE.Color(0x00ff8f),
                new THREE.Color(0x4fc3f7)
            ];

            for (let i = 0; i < particleCount; i++) {
                // Position particles in a spherical area around the cube
                const radius = 3 + Math.random() * 5;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;

                const x = radius * Math.sin(phi) * Math.cos(theta);
                const y = radius * Math.sin(phi) * Math.sin(theta);
                const z = radius * Math.cos(phi);

                positions[i * 3] = x;
                positions[i * 3 + 1] = y;
                positions[i * 3 + 2] = z;

                // Set particle color
                const color = colorChoices[Math.floor(Math.random() * colorChoices.length)];
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;

                // Store particle data for animation
                particles.push({
                    velocity: new THREE.Vector3(
                        (Math.random() - 0.5) * 0.01,
                        (Math.random() - 0.5) * 0.01,
                        (Math.random() - 0.5) * 0.01
                    ),
                    index: i
                });
            }

            particleGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particleGeo.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            const particleMaterial = new THREE.PointsMaterial({
                size: 0.05,
                vertexColors: true,
                transparent: true,
                opacity: 0.7
            });

            particleSystem = new THREE.Points(particleGeo, particleMaterial);
            scene.add(particleSystem);
        }

        // Initial cube entry animation
        function animateCubeEntry() {
            // Scale up from zero
            cube.scale.set(0.01, 0.01, 0.01);

            gsap.to(cube.scale, {
                x: 1,
                y: 1,
                z: 1,
                duration: 1.5,
                ease: "elastic.out(1, 0.5)"
            });

            // Rotate to initial position
            gsap.to(cube.rotation, {
                x: Math.PI / 5,
                y: Math.PI / 4,
                duration: 2,
                ease: "power2.out"
            });
        }

        // Handle window resize
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Handle mouse down events
        function onMouseDown(event) {
            // Don't handle events when cube is transforming
            if (transforming) return;

            // Check if we need to do a raycaster check for clicking on cube faces
            const raycaster = new THREE.Raycaster();
            const mouse = new THREE.Vector2();

            // Convert mouse position to normalized device coordinates
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            // Update the raycaster
            raycaster.setFromCamera(mouse, camera);

            // First check for intersections with individual faces
            const faceIntersects = raycaster.intersectObjects(cubeFaces);

            if (faceIntersects.length > 0) {
                const face = faceIntersects[0].object;
                const faceIndex = face.userData.faceIndex;

                // Transform the cube in a robotic way
                transformCube(faceIndex);

                // Open the corresponding content after transformation
                setTimeout(() => {
                    openContent(faceIndex);

                    // Mark this side as discovered
                    sidesDiscovered[faceIndex] = true;

                    // Check if all sides have been discovered
                    if (sidesDiscovered.every(side => side === true)) {
                        // Reveal the core
                        setTimeout(() => {
                            animateToCore();
                        }, 1000);
                    }
                }, 1500);
            } else {
                // If not clicking on a face, start rotating the cube
                isRotating = true;
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            }
        }

        // Transform cube when face is clicked
        function transformCube(faceIndex) {
            transforming = true;

            // Save current rotation
            const startRotation = {
                x: cube.rotation.x,
                y: cube.rotation.y,
                z: cube.rotation.z
            };

            // Define target rotation to show the clicked face straight on
            let targetX = 0, targetY = 0, targetZ = 0;

            switch (faceIndex) {
                case 0: // Front
                    targetX = 0;
                    targetY = 0;
                    break;
                case 1: // Back
                    targetX = 0;
                    targetY = Math.PI;
                    break;
                case 2: // Top
                    targetX = -Math.PI / 2;
                    targetY = 0;
                    break;
                case 3: // Bottom
                    targetX = Math.PI / 2;
                    targetY = 0;
                    break;
                case 4: // Right
                    targetX = 0;
                    targetY = Math.PI / 2;
                    break;
                case 5: // Left
                    targetX = 0;
                    targetY = -Math.PI / 2;
                    break;
            }

            // Create timeline for robotic transformation
            const tl = gsap.timeline({
                onComplete: () => {
                    transforming = false;
                }
            });

            // Step 1: Pulse the edges
            tl.to(cubeEdges.material, {
                opacity: 1,
                duration: 0.3,
                yoyo: true,
                repeat: 1
            }, 0);

            // Step 2: Scale faces slightly
            cubeFaces.forEach(face => {
                tl.to(face.scale, {
                    x: 0.9,
                    y: 0.9,
                    duration: 0.4,
                    yoyo: true,
                    repeat: 1
                }, 0);
            });

            // Step 3: Rotate to position with mechanical stages
            tl.to(cube.rotation, {
                x: startRotation.x + Math.PI / 8,
                duration: 0.3,
                ease: "steps(3)"
            }, 0.5);

            tl.to(cube.rotation, {
                y: startRotation.y + Math.PI / 8,
                duration: 0.3,
                ease: "steps(3)"
            }, 0.8);

            tl.to(cube.rotation, {
                x: targetX,
                y: targetY,
                z: targetZ,
                duration: 0.5,
                ease: "power2.inOut"
            }, 1.2);

            // Step 4: Scale up the clicked face
            const selectedFace = cubeFaces[faceIndex];
            tl.to(selectedFace.scale, {
                x: 1.1,
                y: 1.1,
                duration: 0.3,
                ease: "back.out(1.7)"
            }, 1.7);

            // Step 5: Glow effect on the face
            tl.to(selectedFace.material, {
                emissive: new THREE.Color(selectedFace.material.color),
                emissiveIntensity: 0.5,
                duration: 0.4
            }, 1.7);

            // Move camera closer
            tl.to(camera.position, {
                z: 3.5,
                duration: 0.8,
                ease: "power2.inOut"
            }, 1.2);
        }

        // Handle touch start events for mobile
        function onTouchStart(event) {
            event.preventDefault();
            const touch = event.touches[0];
            onMouseDown({
                clientX: touch.clientX,
                clientY: touch.clientY
            });

            document.addEventListener('touchmove', onTouchMove);
            document.addEventListener('touchend', onTouchEnd);
        }

        // Handle mouse move events
        function onMouseMove(event) {
            if (!isRotating) return;

            const movementX = event.movementX || 0;
            const movementY = event.movementY || 0;

            targetRotation.y += movementX * 0.005;
            targetRotation.x += movementY * 0.005;

            // Limit rotation on x-axis to prevent cube flipping over
            targetRotation.x = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, targetRotation.x));
        }

        // Handle touch move events
        function onTouchMove(event) {
            event.preventDefault();
            const touch = event.touches[0];

            const movementX = touch.clientX - (event.touches[0].clientX || touch.clientX);
            const movementY = touch.clientY - (event.touches[0].clientY || touch.clientY);

            targetRotation.y += movementX * 0.005;
            targetRotation.x += movementY * 0.005;

            // Limit rotation on x-axis
            targetRotation.x = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, targetRotation.x));
        }

        // Handle mouse up events
        function onMouseUp() {
            isRotating = false;
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        }

        // Handle touch end events
        function onTouchEnd() {
            isRotating = false;
            document.removeEventListener('touchmove', onTouchMove);
            document.removeEventListener('touchend', onTouchEnd);
        }

        // Open content based on the face clicked
        function openContent(faceIndex) {
            const containerIds = [
                'side1-content', // Journey
                'side2-content', // Projects
                'side3-content', // Skills
                'side4-content', // Vision
                'side5-content', // Testimonials
                'side6-content'  // Gallery
            ];

            // Show the appropriate content container
            const container = document.getElementById(containerIds[faceIndex]);
            container.style.display = 'block';

            // Animate content opening with robotic effect
            gsap.fromTo(container,
                { opacity: 0 },
                {
                    opacity: 1,
                    duration: 0.5,
                    ease: "steps(5)"
                }
            );

            // Create simulated content for the sections
            generateSectionContent(faceIndex);
        }

        // Close content container
        function closeContent(element) {
            // Jika dipanggil dari event listener, 'this' adalah button
            // Jika dipanggil secara programatis, gunakan parameter element
            const button = this instanceof Element ? this : element;

            // Temukan panel - dari button atau gunakan element langsung
            const panel = button instanceof Element ? button.closest('.content-container') : element;

            if (!panel) {
                console.error('Tidak dapat menemukan container untuk ditutup');
                return;
            }

            gsap.to(panel, {
                opacity: 0,
                duration: 0.5,
                onComplete: () => {
                    panel.style.display = 'none';
                    isRotating = true;

                    // Jika yang ditutup adalah core content, kembalikan kubus
                    if (panel.id === 'core-content') {
                        // Kembalikan kubus dengan animasi
                        cube.scale.set(0, 0, 0); // Pastikan kubus masih tersembunyi
                        cube.visible = true;

                        gsap.to(cube.scale, {
                            x: 1, y: 1, z: 1,
                            duration: 0.8,
                            ease: "elastic.out(1, 0.5)"
                        });

                        // Periksa kembali apakah semua sisi sudah terungkap
                        setTimeout(checkAllSidesDiscovered, 1000);
                    } else {
                        // Untuk panel lain, pastikan kubus kembali ke ukuran normal
                        gsap.to(cube.scale, {
                            x: 1, y: 1, z: 1,
                            duration: 0.5,
                            ease: "power2.out"
                        });
                    }

                    // Kembalikan kamera ke posisi asli
                    gsap.to(camera.position, {
                        z: 5,
                        duration: 0.8,
                        ease: "power2.inOut"
                    });

                    // Kembalikan kubus ke keadaan normal
                    cubeFaces.forEach(face => {
                        gsap.to(face.scale, {
                            x: 1,
                            y: 1,
                            duration: 0.4
                        });

                        gsap.to(face.material, {
                            emissiveIntensity: 0,
                            duration: 0.4
                        });
                    });
                }
            });
        }

        function checkAllSidesDiscovered() {
            if (!transforming && sidesDiscovered.every(side => side === true)) {
                console.log("All sides discovered!");

                // Tampilkan tombol untuk mengungkapkan core
                if (!document.getElementById('reveal-core-btn')) {
                    const revealBtn = document.createElement('button');
                    revealBtn.id = 'reveal-core-btn';
                    revealBtn.textContent = 'Ungkap Core';
                    revealBtn.style.position = 'fixed';
                    revealBtn.style.bottom = '30px';
                    revealBtn.style.left = '50%';
                    revealBtn.style.transform = 'translateX(-50%)';
                    revealBtn.style.padding = '10px 20px';
                    revealBtn.style.backgroundColor = 'rgba(0, 161, 255, 0.3)';
                    revealBtn.style.color = 'white';
                    revealBtn.style.border = '2px solid rgba(0, 161, 255, 0.7)';
                    revealBtn.style.borderRadius = '30px';
                    revealBtn.style.fontSize = '16px';
                    revealBtn.style.cursor = 'pointer';
                    revealBtn.style.zIndex = '10';
                    revealBtn.style.boxShadow = '0 0 15px rgba(0, 161, 255, 0.5)';
                    revealBtn.style.transition = 'all 0.3s ease';

                    revealBtn.addEventListener('mouseover', () => {
                        revealBtn.style.backgroundColor = 'rgba(0, 161, 255, 0.5)';
                        revealBtn.style.boxShadow = '0 0 20px rgba(0, 161, 255, 0.8)';
                    });

                    revealBtn.addEventListener('mouseout', () => {
                        revealBtn.style.backgroundColor = 'rgba(0, 161, 255, 0.3)';
                        revealBtn.style.boxShadow = '0 0 15px rgba(0, 161, 255, 0.5)';
                    });

                    revealBtn.addEventListener('click', revealCore);
                    document.body.appendChild(revealBtn);
                }
            }
        }

        function revealCore() {
            // Hapus tombol reveal
            const revealBtn = document.getElementById('reveal-core-btn');
            if (revealBtn) {
                revealBtn.remove();
            }

            // Animasi ledakan
            transforming = true;
            isRotating = false;

            // Simpan posisi kubus saat ini
            const currentRotation = {
                x: cube.rotation.x,
                y: cube.rotation.y,
                z: cube.rotation.z
            };

            // Animasi ledakan kubus
            gsap.to(cube.scale, {
                x: 1.5, y: 1.5, z: 1.5,
                duration: 0.5,
                ease: "power2.in",
                onComplete: () => {
                    // Buat partikel ledakan
                    createExplosionParticles();

                    // Sembunyikan kubus
                    gsap.to(cube.scale, {
                        x: 0, y: 0, z: 0,
                        duration: 0.3,
                        ease: "power2.out",
                        onComplete: () => {
                            // Tampilkan core content
                            const coreContent = document.getElementById('core-content');
                            coreContent.style.display = 'block';
                            gsap.fromTo(coreContent,
                                { opacity: 0 },
                                { opacity: 1, duration: 1 }
                            );
                        }
                    });
                }
            });
        }

        // Fungsi untuk membuat animasi ledakan kubus dan membuka core
        function explodeCubeAndOpenCore() {
            isRotating = false;
            transforming = true;

            // Simpan posisi asli wajah kubus
            const originalPositions = [];
            cubeFaces.forEach(face => {
                originalPositions.push({
                    x: face.position.x,
                    y: face.position.y,
                    z: face.position.z
                });
            });

            // Buat partikel ledakan SEGERA (tidak menunggu)
            createExplosionParticles();

            // Animasi ledakan - wajah kubus bergerak keluar
            cubeFaces.forEach((face, index) => {
                // Arah ledakan yang lebih acak dan dramatis
                const direction = {
                    x: face.position.x * 2 + (Math.random() - 0.5) * 3,
                    y: face.position.y * 2 + (Math.random() - 0.5) * 3,
                    z: face.position.z * 2 + (Math.random() - 0.5) * 3
                };

                // Animasi wajah kubus bergerak keluar dengan lebih cepat
                gsap.to(face.position, {
                    x: direction.x,
                    y: direction.y,
                    z: direction.z,
                    duration: 0.6, // Lebih cepat
                    ease: "power3.out"
                });

                // Animasi rotasi acak yang lebih dramatis
                gsap.to(face.rotation, {
                    x: Math.random() * Math.PI * 4 - Math.PI * 2,
                    y: Math.random() * Math.PI * 4 - Math.PI * 2,
                    z: Math.random() * Math.PI * 4 - Math.PI * 2,
                    duration: 0.6,
                    ease: "power2.out"
                });

                // Animasi opacity menurun
                gsap.to(face.material, {
                    opacity: 0,
                    duration: 0.6,
                    ease: "power2.out"
                });
            });

            // Ledakan struktur kubus (edges dan vertices)
            if (cubeEdges) {
                // Animasi edges menghilang
                gsap.to(cubeEdges.material, {
                    opacity: 0,
                    duration: 0.4,
                    ease: "power2.out"
                });
            }

            if (cubeOutline) {
                // Animasi outline menghilang dengan efek skala
                gsap.to(cubeOutline.scale, {
                    x: 1.5,
                    y: 1.5,
                    z: 1.5,
                    duration: 0.5,
                    ease: "power2.out"
                });

                gsap.to(cubeOutline.material, {
                    opacity: 0,
                    duration: 0.5,
                    ease: "power2.out"
                });
            }

            // Jika ada vertices, buat mereka meledak keluar
            if (cubeVertices) {
                // Periksa apakah cubeVertices.geometry ada
                if (cubeVertices.geometry) {
                    // Untuk BufferGeometry (Three.js versi baru)
                    if (cubeVertices.geometry.attributes && cubeVertices.geometry.attributes.position) {
                        const positions = cubeVertices.geometry.attributes.position.array;
                        const originalPositions = positions.slice();

                        gsap.to({}, {
                            duration: 0.7,
                            ease: "power2.out",
                            onUpdate: function () {
                                const progress = this.progress();
                                for (let i = 0; i < positions.length; i += 3) {
                                    const direction = {
                                        x: (Math.random() - 0.5) * 5,
                                        y: (Math.random() - 0.5) * 5,
                                        z: (Math.random() - 0.5) * 5
                                    };

                                    positions[i] = originalPositions[i] + direction.x * progress;
                                    positions[i + 1] = originalPositions[i + 1] + direction.y * progress;
                                    positions[i + 2] = originalPositions[i + 2] + direction.z * progress;
                                }

                                cubeVertices.geometry.attributes.position.needsUpdate = true;
                            }
                        });
                    }

                    // Animasi vertices menghilang
                    gsap.to(cubeVertices.material, {
                        opacity: 0,
                        duration: 0.7,
                        ease: "power2.out"
                    });
                }
            }

            // Setelah ledakan, tampilkan konten core
            setTimeout(() => {
                // Sembunyikan kubus
                cube.visible = false;

                // Tampilkan konten core
                const coreContent = document.getElementById('core-content');
                coreContent.style.display = 'block';
                gsap.fromTo(coreContent,
                    { opacity: 0 },
                    { opacity: 1, duration: 0.8 }
                );

                // Kembalikan posisi wajah kubus (untuk digunakan nanti)
                cubeFaces.forEach((face, index) => {
                    face.position.set(
                        originalPositions[index].x,
                        originalPositions[index].y,
                        originalPositions[index].z
                    );

                    // Reset rotasi
                    if (index === 0) face.rotation.set(0, 0, 0);
                    else if (index === 1) face.rotation.set(0, Math.PI, 0);
                    else if (index === 2) face.rotation.set(-Math.PI / 2, 0, 0);
                    else if (index === 3) face.rotation.set(Math.PI / 2, 0, 0);
                    else if (index === 4) face.rotation.set(0, Math.PI / 2, 0);
                    else if (index === 5) face.rotation.set(0, -Math.PI / 2, 0);

                    // Reset opacity
                    face.material.opacity = 0.8;
                });

                transforming = false;
            }, 800); // Waktu yang lebih singkat
        }

        // Fungsi untuk membuat partikel ledakan
        function createExplosionParticles() {
            // Hapus partikel ledakan lama jika ada
            if (window.explosionParticles) {
                scene.remove(window.explosionParticles);
            }

            const particleCount = 300; // Lebih banyak partikel
            const particleGeometry = new THREE.BufferGeometry();
            const particlePositions = new Float32Array(particleCount * 3);
            const particleSizes = new Float32Array(particleCount);
            const particleColors = new Float32Array(particleCount * 3);

            // Isi array posisi dengan nilai awal yang valid
            for (let i = 0; i < particleCount; i++) {
                // Posisi awal lebih dekat ke pusat untuk efek ledakan yang lebih baik
                const radius = 0.05 + Math.random() * 0.2;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;

                // Pastikan tidak ada pembagian dengan nol
                const sinPhi = Math.sin(phi) || 0.0001; // Hindari nilai 0

                particlePositions[i * 3] = radius * sinPhi * Math.cos(theta);
                particlePositions[i * 3 + 1] = radius * sinPhi * Math.sin(theta);
                particlePositions[i * 3 + 2] = radius * Math.cos(phi);

                // Ukuran acak yang lebih bervariasi
                particleSizes[i] = 0.05 + Math.random() * 0.15;

                // Warna acak dengan lebih banyak variasi (biru-cyan-putih)
                const colorChoice = Math.random();
                if (colorChoice < 0.3) {
                    // Biru
                    particleColors[i * 3] = 0.1 + Math.random() * 0.2;     // R
                    particleColors[i * 3 + 1] = 0.5 + Math.random() * 0.3; // G
                    particleColors[i * 3 + 2] = 0.8 + Math.random() * 0.2; // B
                } else if (colorChoice < 0.6) {
                    // Cyan
                    particleColors[i * 3] = 0.1 + Math.random() * 0.2;     // R
                    particleColors[i * 3 + 1] = 0.7 + Math.random() * 0.3; // G
                    particleColors[i * 3 + 2] = 0.7 + Math.random() * 0.3; // B
                } else {
                    // Putih-kebiruan
                    particleColors[i * 3] = 0.7 + Math.random() * 0.3;     // R
                    particleColors[i * 3 + 1] = 0.8 + Math.random() * 0.2; // G
                    particleColors[i * 3 + 2] = 0.9 + Math.random() * 0.1; // B
                }
            }

            // Pastikan semua nilai valid sebelum menambahkan ke geometri
            for (let i = 0; i < particlePositions.length; i++) {
                if (isNaN(particlePositions[i])) {
                    particlePositions[i] = 0; // Ganti NaN dengan 0
                }
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(particlePositions, 3));
            particleGeometry.setAttribute('size', new THREE.BufferAttribute(particleSizes, 1));
            particleGeometry.setAttribute('color', new THREE.BufferAttribute(particleColors, 3));

            // Buat material dengan ukuran yang sesuai dan tekstur partikel
            const particleMaterial = new THREE.PointsMaterial({
                size: 0.15,
                vertexColors: true,
                transparent: true,
                opacity: 1,
                blending: THREE.AdditiveBlending,
                depthWrite: false, // Penting untuk efek glow yang lebih baik
                sizeAttenuation: true // Partikel lebih kecil saat jauh dari kamera
            });

            // Coba tambahkan tekstur partikel jika tersedia
            try {
                const textureLoader = new THREE.TextureLoader();
                const particleTexture = textureLoader.load('https://threejs.org/examples/textures/sprites/spark1.png');
                particleMaterial.map = particleTexture;
            } catch (e) {
                console.log('Tidak dapat memuat tekstur partikel, menggunakan partikel default');
            }

            const explosionParticles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(explosionParticles);
            window.explosionParticles = explosionParticles;

            // Buat array untuk menyimpan arah pergerakan partikel
            const directions = [];
            for (let i = 0; i < particleCount; i++) {
                const i3 = i * 3;
                const x = particlePositions[i3];
                const y = particlePositions[i3 + 1];
                const z = particlePositions[i3 + 2];

                // Hitung jarak dari pusat (0,0,0)
                const distance = Math.sqrt(x * x + y * y + z * z) || 0.0001; // Hindari pembagian dengan nol

                // Simpan arah pergerakan yang dinormalisasi dengan sedikit variasi acak
                directions.push({
                    x: (x / distance) + (Math.random() - 0.5) * 0.3,
                    y: (y / distance) + (Math.random() - 0.5) * 0.3,
                    z: (z / distance) + (Math.random() - 0.5) * 0.3
                });
            }

            // Gunakan requestAnimationFrame untuk animasi yang lebih stabil
            let startTime = null;
            const duration = 1.2; // Durasi sedikit lebih lama

            const animateParticles = (timestamp) => {
                if (!startTime) startTime = timestamp;
                const elapsedTime = (timestamp - startTime) / 1000; // dalam detik
                const progress = Math.min(elapsedTime / duration, 1);

                // Update posisi partikel dengan kecepatan yang meningkat di awal dan melambat di akhir
                for (let i = 0; i < particleCount; i++) {
                    const i3 = i * 3;
                    const dir = directions[i];

                    // Kecepatan yang lebih cepat di awal dan melambat di akhir
                    let speed;
                    if (progress < 0.3) {
                        // Akselerasi cepat di awal
                        speed = 8 * (progress / 0.3);
                    } else {
                        // Kecepatan konstan lalu melambat
                        speed = 8 - (progress - 0.3) * 4;
                    }

                    particlePositions[i3] += dir.x * speed * 0.05;
                    particlePositions[i3 + 1] += dir.y * speed * 0.05;
                    particlePositions[i3 + 2] += dir.z * speed * 0.05;

                    // Ukuran partikel mengecil seiring waktu
                    if (progress > 0.5) {
                        particleSizes[i] = Math.max(0.01, particleSizes[i] * 0.99);
                    }
                }

                // Update geometri
                explosionParticles.geometry.attributes.position.needsUpdate = true;
                explosionParticles.geometry.attributes.size.needsUpdate = true;

                // Update opacity
                if (progress > 0.6) {
                    const fadeProgress = (progress - 0.6) / 0.4;
                    explosionParticles.material.opacity = 1 - fadeProgress;
                }

                // Lanjutkan animasi atau bersihkan
                if (progress < 1) {
                    requestAnimationFrame(animateParticles);
                } else {
                    scene.remove(explosionParticles);
                    window.explosionParticles = null;
                }
            };

            requestAnimationFrame(animateParticles);
        }
        // Generate content for each section
        function generateSectionContent(faceIndex) {
            switch (faceIndex) {
                case 0:
                    generateAboutMe();
                    break;
                case 1:
                    generateProjects();
                    break;
                case 2:
                    generateSkills();
                    break;
                case 3:
                    generateVision();
                    break;
                case 4:
                    generateCertificate();
                    break;
                case 5:
                    generateGallery();
                    break;
            }
        }

        // Generate About
        function generateAboutMe() {
            const container = document.getElementById('timeline-container');

            // Clear any existing content
            container.innerHTML = '';

            // Create about me structure with single container
            const aboutMeContent = document.createElement('div');
            aboutMeContent.className = 'about-me-content';
            aboutMeContent.style.cssText = `
                position: relative;
                max-width: 900px;
                margin: 40px auto;
                padding: 30px;
                background: rgba(10, 20, 40, 0.7);
                border-radius: 15px;
                box-shadow: 0 10px 25px rgba(0, 100, 200, 0.3);
                overflow: hidden;
                transform: scale(0.95);
                opacity: 0;
                transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            `;

            // Add holographic scan effect
            const scanEffect = document.createElement('div');
            scanEffect.className = 'scan-effect';
            scanEffect.style.cssText = `
                position: absolute;
                top: -100%;
                left: 0;
                width: 100%;
                height: 5px;
                background: linear-gradient(to bottom, 
                             rgba(255,255,255,0) 0%,
                             rgba(0,161,255,0.5) 50%,
                             rgba(255,255,255,0) 100%);
                z-index: 1;
                animation: scanAnimation 4s ease-in-out infinite;
                opacity: 0.7;
            `;

            // Add scan animation
            const scanStyle = document.createElement('style');
            scanStyle.textContent = `
                @keyframes scanAnimation {
                    0% { top: -5%; }
                    100% { top: 105%; }
                }
                @keyframes floatAnimation {
                    0% { transform: translateY(0px); }
                    50% { transform: translateY(-10px); }
                    100% { transform: translateY(0px); }
                }
                @keyframes pulseGlow {
                    0% { box-shadow: 0 0 10px rgba(0, 161, 255, 0.5); }
                    50% { box-shadow: 0 0 30px rgba(0, 161, 255, 0.8); }
                    100% { box-shadow: 0 0 10px rgba(0, 161, 255, 0.5); }
                }
            `;
            document.head.appendChild(scanStyle);
            aboutMeContent.appendChild(scanEffect);

            // Add grid background
            const gridBg = document.createElement('div');
            gridBg.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: radial-gradient(rgba(0, 161, 255, 0.2) 1px, transparent 1px);
                background-size: 20px 20px;
                opacity: 0.1;
                z-index: 1;
            `;
            aboutMeContent.appendChild(gridBg);

            // Add floating particles
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 10 + 5}px;
                    height: ${Math.random() * 10 + 5}px;
                    background: rgba(0, 161, 255, ${Math.random() * 0.3 + 0.1});
                    border-radius: 50%;
                    top: ${Math.random() * 100}%;
                    left: ${Math.random() * 100}%;
                    animation: floatAnimation ${Math.random() * 3 + 3}s ease-in-out infinite;
                    animation-delay: ${Math.random() * 2}s;
                    z-index: 1;
                    filter: blur(1px);
                `;
                aboutMeContent.appendChild(particle);
            }

            // Add glowing corners
            const corners = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];
            corners.forEach(position => {
                const corner = document.createElement('div');
                corner.className = `corner ${position}`;

                let positionStyle = '';
                if (position === 'top-left') positionStyle = 'top: 0; left: 0;';
                if (position === 'top-right') positionStyle = 'top: 0; right: 0;';
                if (position === 'bottom-left') positionStyle = 'bottom: 0; left: 0;';
                if (position === 'bottom-right') positionStyle = 'bottom: 0; right: 0;';

                corner.style.cssText = `
                    position: absolute;
                    width: 15px;
                    height: 15px;
                    ${positionStyle}
                    border-radius: 50%;
                    background: #00a1ff;
                    box-shadow: 0 0 10px #00a1ff, 0 0 20px #00a1ff;
                    opacity: 0.7;
                    z-index: 1;
                `;
                aboutMeContent.appendChild(corner);
            });

            // Create content wrapper
            const contentWrapper = document.createElement('div');
            contentWrapper.className = 'content-wrapper';
            contentWrapper.style.cssText = `
                position: relative;
                z-index: 2;
                display: flex;
                flex-direction: column;
                gap: 30px;
            `;

            // Introduction content
            const introContent = document.createElement('div');
            introContent.className = 'intro-content';
            introContent.style.cssText = `
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s ease 0.3s;
            `;

            introContent.innerHTML = `
                <h3 style="color: #00a1ff; margin-top: 0; font-size: 28px; text-shadow: 0 0 10px rgba(0, 161, 255, 0.5);">Diandra Cahya Saputra</h3>
                <div class="highlight-bar" style="width: 0; height: 3px; background: linear-gradient(to right, #00a1ff, transparent); margin-bottom: 20px; transition: width 1s ease-out 0.8s;"></div>
                <p style="line-height: 1.8; margin-bottom: 15px; font-size: 16px;">
                    Halo! Saya Diandra Cahya Saputra, Saya adalah lulusan 2025 dari SMKN 2 Surabaya, 
                    jurusan Rekayasa Perangkat Lunak (RPL). Saya memiliki ketertarikan yang kuat 
                    dalam pengembangan web, Machine Learning ,dan AI.
                </p>
            `;

            // Skills content
            const skillsContent = document.createElement('div');
            skillsContent.className = 'skills-content';
            skillsContent.style.cssText = `
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s ease 0.5s;
            `;

            skillsContent.innerHTML = `
                <h3 style="color: #00a1ff; margin-top: 0; font-size: 24px; text-shadow: 0 0 10px rgba(0, 161, 255, 0.5);">Keahlian Utama</h3>
                <div class="highlight-bar" style="width: 0; height: 3px; background: linear-gradient(to right, #00a1ff, transparent); margin-bottom: 20px; transition: width 1s ease-out 1s;"></div>
                <div id="skills-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;"></div>
            `;

            // Personality content
            const personalityContent = document.createElement('div');
            personalityContent.className = 'personality-content';
            personalityContent.style.cssText = `
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s ease 0.7s;
            `;

            personalityContent.innerHTML = `
                <h3 style="color: #00a1ff; margin-top: 0; font-size: 24px; text-shadow: 0 0 10px rgba(0, 161, 255, 0.5);">Karakteristik Pribadi</h3>
                <div class="highlight-bar" style="width: 0; height: 3px; background: linear-gradient(to right, #00a1ff, transparent); margin-bottom: 20px; transition: width 1s ease-out 1.2s;"></div>
                <div id="personality-cards" style="display: flex; flex-wrap: wrap; gap: 15px;"></div>
            `;

            // Closing statement
            const closingContent = document.createElement('div');
            closingContent.className = 'closing-content';
            closingContent.style.cssText = `
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s ease 0.9s;
                text-align: center;
                margin-top: 20px;
                padding: 20px;
                border-radius: 10px;
                background: rgba(0, 161, 255, 0.1);
                animation: pulseGlow 3s infinite;
            `;

            closingContent.innerHTML = `
                <p style="line-height: 1.8; margin: 0; font-size: 16px;">
                    Saya selalu percaya bahwa teknologi adalah alat untuk mempermudah kehidupan, 
                    dan saya berkomitmen untuk terus belajar dan berkembang di bidang ini.
                </p>
            `;

            // Assemble content
            contentWrapper.appendChild(introContent);
            contentWrapper.appendChild(skillsContent);
            contentWrapper.appendChild(personalityContent);
            contentWrapper.appendChild(closingContent);
            aboutMeContent.appendChild(contentWrapper);
            container.appendChild(aboutMeContent);

            // Skills data with enhanced icons and descriptions
            const skills = [
                {
                    name: 'Pengembangan API',
                    detail: 'Laravel & MySQL',
                    icon: '🔌',
                    color: '#FF2D20'
                },
                {
                    name: 'Web Responsif',
                    detail: 'HTML, Tailwind CSS, JS',
                    icon: '🎨',
                    color: '#38B2AC'
                },
                {
                    name: 'Machine Learning',
                    detail: 'Python & TensorFlow',
                    icon: '🤖',
                    color: '#25D366'
                },
                {
                    name: 'Kolaborasi',
                    detail: 'GitHub & Version Control',
                    icon: '🔄',
                    color: '#6E5494'
                }
            ];

            // Personality traits data with enhanced descriptions
            const traits = [
                {
                    name: 'Cepat Belajar',
                    detail: 'Mudah beradaptasi dengan teknologi baru',
                    icon: '🚀',
                    color: '#FF5722'
                },
                {
                    name: 'Komunikatif',
                    detail: 'Mampu bekerja sama dalam tim',
                    icon: '👥',
                    color: '#4CAF50'
                },
                {
                    name: 'Teliti',
                    detail: 'Bertanggung jawab terhadap tugas',
                    icon: '✓',
                    color: '#2196F3'
                }
            ];

            // Populate skills grid with animated cards
            const skillsGrid = skillsContent.querySelector('#skills-grid');
            skills.forEach((skill, index) => {
                const skillCard = document.createElement('div');
                skillCard.className = 'skill-card';
                skillCard.style.cssText = `
                    background: rgba(10, 20, 40, 0.5);
                    border: 1px solid ${skill.color};
                    border-radius: 8px;
                    padding: 15px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    transform: scale(0.8);
                    opacity: 0;
                    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) ${0.3 + index * 0.1}s;
                    position: relative;
                    overflow: hidden;
                `;

                // Add hover effect
                skillCard.addEventListener('mouseenter', () => {
                    skillCard.style.transform = 'scale(1.05)';
                    skillCard.style.boxShadow = `0 0 20px ${skill.color}80`;
                });

                skillCard.addEventListener('mouseleave', () => {
                    skillCard.style.transform = 'scale(1)';
                    skillCard.style.boxShadow = 'none';
                });

                // Skill icon with glowing effect
                const iconContainer = document.createElement('div');
                iconContainer.style.cssText = `
                    width: 40px;
                    height: 40px;
                    background: ${skill.color}20;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 20px;
                    box-shadow: 0 0 10px ${skill.color}40;
                    position: relative;
                `;

                // Add pulsing glow effect
                const glow = document.createElement('div');
                glow.style.cssText = `
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    border-radius: 50%;
                    background: ${skill.color}20;
                    animation: pulse 2s infinite;
                    z-index: -1;
                `;
                iconContainer.appendChild(glow);

                const iconText = document.createElement('span');
                iconText.textContent = skill.icon;
                iconContainer.appendChild(iconText);

                // Skill text with layered information
                const textContainer = document.createElement('div');
                textContainer.style.cssText = `
                    flex: 1;
                `;

                textContainer.innerHTML = `
                    <div style="font-weight: bold; color: ${skill.color};">${skill.name}</div>
                    <div style="font-size: 12px; color: #aaaaaa;">${skill.detail}</div>
                `;

                skillCard.appendChild(iconContainer);
                skillCard.appendChild(textContainer);
                skillsGrid.appendChild(skillCard);
            });

            // Populate personality traits with animated cards
            const personalityCards = personalityContent.querySelector('#personality-cards');
            traits.forEach((trait, index) => {
                const traitCard = document.createElement('div');
                traitCard.className = 'trait-card';
                traitCard.style.cssText = `
                    background: rgba(10, 20, 40, 0.5);
                    border: 1px solid ${trait.color};
                    border-radius: 8px;
                    padding: 15px;
                    flex: 1;
                    min-width: 150px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    transform: scale(0.8);
                    opacity: 0;
                    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) ${0.6 + index * 0.1}s;
                `;

                // Add hover effect
                traitCard.addEventListener('mouseenter', () => {
                    traitCard.style.transform = 'scale(1.05)';
                    traitCard.style.boxShadow = `0 0 20px ${trait.color}80`;
                });

                traitCard.addEventListener('mouseleave', () => {
                    traitCard.style.transform = 'scale(1)';
                    traitCard.style.boxShadow = 'none';
                });

                // Trait icon
                const iconContainer = document.createElement('div');
                iconContainer.style.cssText = `
                    width: 50px;
                    height: 50px;
                    background: ${trait.color}20;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 24px;
                    margin-bottom: 10px;
                    box-shadow: 0 0 10px ${trait.color}40;
                `;
                iconContainer.textContent = trait.icon;

                // Trait text
                const textContainer = document.createElement('div');
                textContainer.innerHTML = `
                    <div style="font-weight: bold; color: ${trait.color};">${trait.name}</div>
                    <div style="font-size: 12px; color: #aaaaaa; margin-top: 5px;">${trait.detail}</div>
                `;

                traitCard.appendChild(iconContainer);
                traitCard.appendChild(textContainer);
                personalityCards.appendChild(traitCard);
            });

            // Animate sections appearance
            setTimeout(() => {
                // Animate main container
                aboutMeContent.style.opacity = '1';
                aboutMeContent.style.transform = 'scale(1)';

                // Animate highlight bars
                const highlightBars = document.querySelectorAll('.highlight-bar');
                highlightBars.forEach(bar => {
                    bar.style.width = '100%';
                });

                // Animate content sections
                introContent.style.opacity = '1';
                introContent.style.transform = 'translateY(0)';

                skillsContent.style.opacity = '1';
                skillsContent.style.transform = 'translateY(0)';

                personalityContent.style.opacity = '1';
                personalityContent.style.transform = 'translateY(0)';

                closingContent.style.opacity = '1';
                closingContent.style.transform = 'translateY(0)';

                // Animate skill cards
                const skillCards = skillsGrid.querySelectorAll('.skill-card');
                skillCards.forEach(card => {
                    card.style.opacity = '1';
                    card.style.transform = 'scale(1)';
                });

                // Animate trait cards
                const traitCards = personalityCards.querySelectorAll('.trait-card');
                traitCards.forEach(card => {
                    card.style.opacity = '1';
                    card.style.transform = 'scale(1)';
                });
            }, 300);
        }
        // Generate Projects content
        function generateProjects() {
            const container = document.getElementById('projects-container');

            // Clear any existing content
            container.innerHTML = '';

            // Create projects grid
            const projectsGrid = document.createElement('div');
            projectsGrid.className = 'projects-grid';
            projectsGrid.style.cssText = `
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 30px;
                margin-top: 30px;
            `;

            // Tambahkan style untuk animasi
            const styleElement = document.createElement('style');
            styleElement.textContent = `
                @keyframes scanAnimation {
                    0% { top: -10%; }
                    100% { top: 110%; }
                }
                @keyframes floatAnimation {
                    0% { transform: translateY(0px); }
                    50% { transform: translateY(-10px); }
                    100% { transform: translateY(0px); }
                }
                @keyframes glowPulse {
                    0% { box-shadow: 0 0 5px rgba(0, 161, 255, 0.5); }
                    50% { box-shadow: 0 0 20px rgba(0, 161, 255, 0.8); }
                    100% { box-shadow: 0 0 5px rgba(0, 161, 255, 0.5); }
                }
                @keyframes rotateGradient {
                    0% { background-position: 0% 50%; }
                    50% { background-position: 100% 50%; }
                    100% { background-position: 0% 50%; }
                }
                @keyframes fadeInUp {
                    from { 
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to { 
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                @keyframes borderGlow {
                    0% { border-color: rgba(0, 161, 255, 0.5); }
                    50% { border-color: rgba(0, 161, 255, 1); }
                    100% { border-color: rgba(0, 161, 255, 0.5); }
                }
                .project-link {
                    display: inline-block;
                    margin-top: 15px;
                    padding: 8px 15px;
                    background: linear-gradient(45deg, rgba(0, 161, 255, 0.2), rgba(0, 255, 143, 0.2));
                    background-size: 200% 200%;
                    animation: rotateGradient 5s ease infinite;
                    border: 1px solid rgba(0, 161, 255, 0.7);
                    border-radius: 20px;
                    color: white;
                    text-decoration: none;
                    font-size: 14px;
                    transition: all 0.3s ease;
                    position: relative;
                    overflow: hidden;
                    z-index: 1;
                }
                .project-link:hover {
                    transform: scale(1.05);
                    animation: glowPulse 1.5s infinite;
                }
                .project-link:hover::before {
                    opacity: 1;
                }
                .project-link::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(45deg, rgba(0, 161, 255, 0.4), rgba(0, 255, 143, 0.4));
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    z-index: -1;
                }
                .project-tech-tag {
                    background: rgba(0,0,0,0.3);
                    padding: 5px 10px;
                    border-radius: 30px;
                    font-size: 12px;
                    border: 1px solid;
                    display: inline-block;
                    margin: 3px;
                    transition: all 0.3s ease;
                }
                .project-tech-tag:hover {
                    transform: scale(1.1);
                    box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
                }
                .project-card {
                    position: relative;
                }
                .project-card::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle at 50% 50%, transparent 80%, rgba(0, 161, 255, 0.2) 100%);
                    pointer-events: none;
                    opacity: 0;
                    transition: opacity 0.5s ease;
                }
                .project-card:hover::after {
                    opacity: 1;
                }
                .floating-particle {
                    position: absolute;
                    width: 6px;
                    height: 6px;
                    border-radius: 50%;
                    background: rgba(0, 161, 255, 0.5);
                    pointer-events: none;
                    opacity: 0;
                    transition: opacity 0.5s ease;
                }
            `;
            document.head.appendChild(styleElement);

            // Proyek nyata dengan link website
            const projects = [
                {
                    title: 'Gatot AC Mobil',
                    description: 'Website sistem booking jasa service AC Mobil dengan fitur livechat dan E-Struk otomatis.',
                    color: '#4286f4',
                    icon: '🚗',
                    link: 'https://GatotAC.web.id',
                    tech: ['Fullstack', 'Laravel Livewire', 'JavaScript', 'MySQL', 'Tailwind']
                },
                {
                    title: 'E-Sign',
                    description: 'Sistem tanda tangan digital dengan verifikasi identitas dan keamanan tingkat tinggi untuk dokumen resmi.',
                    color: '#8bc34a',
                    icon: '✍️',
                    link: 'https://sign.dakobc.com',
                    tech: ['Intern AT DAKO Brand & Communications', 'Frontend', 'Laravel', 'Tailwind']
                }
            ];

            // Create project cards with enhanced animation
            projects.forEach((project, index) => {
                const projectCard = document.createElement('div');
                projectCard.className = 'project-card';
                projectCard.style.cssText = `
                    background: rgba(10, 20, 40, 0.3);
                    border: 1px solid ${project.color};
                    border-radius: 10px;
                    padding: 25px;
                    position: relative;
                    overflow: hidden;
                    box-shadow: 0 0 20px rgba(0, 100, 200, 0.2);
                    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    opacity: 0;
                    transform: translateY(30px);
                    animation: fadeInUp 0.8s ${0.2 + index * 0.2}s forwards, borderGlow 3s infinite;
                `;

                // Holographic scan effect
                const scanEffect = document.createElement('div');
                scanEffect.className = 'scan-effect';
                scanEffect.style.cssText = `
                    position: absolute;
                    top: -100%;
                    left: 0;
                    width: 100%;
                    height: 10px;
                    background: linear-gradient(to bottom, 
                                 rgba(255,255,255,0) 0%,
                                 rgba(0,161,255,0.5) 50%,
                                 rgba(255,255,255,0) 100%);
                    z-index: 2;
                    animation: scanAnimation 3s ease-in-out infinite;
                    opacity: 0.7;
                `;

                // Add floating particles
                for (let i = 0; i < 5; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'floating-particle';
                    particle.style.cssText = `
                        top: ${Math.random() * 100}%;
                        left: ${Math.random() * 100}%;
                        width: ${Math.random() * 4 + 2}px;
                        height: ${Math.random() * 4 + 2}px;
                        background: ${project.color}80;
                        animation: floatAnimation ${Math.random() * 3 + 2}s ease-in-out infinite;
                        animation-delay: ${Math.random() * 2}s;
                    `;
                    projectCard.appendChild(particle);
                }

                // Project icon with enhanced animation
                const iconElement = document.createElement('div');
                iconElement.className = 'project-icon';
                iconElement.style.cssText = `
                    font-size: 40px;
                    margin-bottom: 15px;
                    text-shadow: 0 0 10px ${project.color};
                    display: inline-block;
                    animation: floatAnimation 3s ease-in-out infinite;
                `;
                iconElement.textContent = project.icon;

                // Project content with enhanced styling
                const content = document.createElement('div');
                content.innerHTML = `
                    <h3 style="color: ${project.color}; margin-top: 0; position: relative; display: inline-block;">
                        ${project.title}
                        <span style="position: absolute; bottom: -3px; left: 0; width: 0; height: 2px; background: ${project.color}; animation: expandWidth 1s 1s forwards;"></span>
                    </h3>
                    <p style="color: #cccccc; line-height: 1.6;">${project.description}</p>
                    <div class="project-tech" style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 5px;">
                        ${project.tech.map(tech => `<span class="project-tech-tag" style="border-color: ${project.color}">${tech}</span>`).join('')}
                    </div>
                    <a href="${project.link}" target="_blank" class="project-link">
                        <i style="margin-right: 5px;">🔗</i> Lihat Website
                    </a>
                `;

                // Add keyframe for expanding width
                const expandWidthStyle = document.createElement('style');
                expandWidthStyle.textContent = `
                    @keyframes expandWidth {
                        from { width: 0; }
                        to { width: 100%; }
                    }
                `;
                document.head.appendChild(expandWidthStyle);

                // Assemble project card
                projectCard.appendChild(scanEffect);
                projectCard.appendChild(iconElement);
                projectCard.appendChild(content);
                projectsGrid.appendChild(projectCard);

                // Show particles on hover
                projectCard.addEventListener('mouseenter', () => {
                    projectCard.style.transform = 'translateY(-10px) scale(1.03)';
                    projectCard.style.boxShadow = `0 0 30px ${project.color}80`;

                    // Show particles
                    const particles = projectCard.querySelectorAll('.floating-particle');
                    particles.forEach(particle => {
                        particle.style.opacity = '1';
                    });
                });

                projectCard.addEventListener('mouseleave', () => {
                    projectCard.style.transform = 'translateY(0) scale(1)';
                    projectCard.style.boxShadow = '0 0 20px rgba(0, 100, 200, 0.2)';

                    // Hide particles
                    const particles = projectCard.querySelectorAll('.floating-particle');
                    particles.forEach(particle => {
                        particle.style.opacity = '0';
                    });
                });
            });

            container.appendChild(projectsGrid);
        }

        // Generate Skills content with particle visualization
        function generateSkills() {
            const container = document.getElementById('skills-container');

            // Clear any existing content
            container.innerHTML = '';

            // Create skills visualization container
            const skillsContainer = document.createElement('div');
            skillsContainer.className = 'skills-container';
            skillsContainer.style.cssText = `
                display: flex;
                flex-direction: column;
                gap: 30px;
                margin-top: 30px;
                max-width: 900px;
                margin-left: auto;
                margin-right: auto;
            `;

            // Skill categories
            const categories = [
                {
                    name: 'Backend Development',
                    icon: '🔧',
                    color: '#FF2D20',
                    skills: ['Laravel', 'Laravel Livewire', 'Python']
                },
                {
                    name: 'Frontend Development',
                    icon: '🎨',
                    color: '#38B2AC',
                    skills: ['Tailwind CSS', 'JavaScript', 'Animation']
                },
                {
                    name: 'Data Science',
                    icon: '🧠',
                    color: '#3776AB',
                    skills: ['Machine Learning', 'Python']
                }
            ];

            // Create skill categories
            categories.forEach((category, categoryIndex) => {
                const categorySection = document.createElement('div');
                categorySection.className = 'skill-category';
                categorySection.style.cssText = `
                    background: rgba(10, 20, 40, 0.3);
                    border-radius: 15px;
                    padding: 25px;
                    position: relative;
                    overflow: hidden;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                    transform: translateY(30px);
                    opacity: 0;
                    transition: all 0.5s ease ${0.1 * categoryIndex}s;
                `;

                // Add holographic scan effect
                const scanEffect = document.createElement('div');
                scanEffect.className = 'scan-effect';
                scanEffect.style.cssText = `
                    position: absolute;
                    top: -100%;
                    left: 0;
                    width: 100%;
                    height: 5px;
                    background: linear-gradient(to bottom, 
                                rgba(255,255,255,0) 0%,
                                ${category.color}80 50%,
                                rgba(255,255,255,0) 100%);
                    z-index: 1;
                    animation: scanAnimation 3s ease-in-out infinite;
                    animation-delay: ${categoryIndex * 0.5}s;
                    opacity: 0.7;
                `;

                // Add animation for scan effect
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes scanAnimation {
                        0% { top: -5%; }
                        100% { top: 105%; }
                    }
                    @keyframes pulseGlow {
                        0% { box-shadow: 0 0 5px ${category.color}40; }
                        50% { box-shadow: 0 0 15px ${category.color}80; }
                        100% { box-shadow: 0 0 5px ${category.color}40; }
                    }
                    @keyframes floatAnimation {
                        0% { transform: translateY(0); }
                        50% { transform: translateY(-10px); }
                        100% { transform: translateY(0); }
                    }
                    @keyframes rotateIcon {
                        0% { transform: rotate(0deg); }
                        25% { transform: rotate(10deg); }
                        75% { transform: rotate(-10deg); }
                        100% { transform: rotate(0deg); }
                    }
                    @keyframes expandBar {
                        from { width: 0; }
                        to { width: 100%; }
                    }
                `;
                document.head.appendChild(style);

                // Category header
                const categoryHeader = document.createElement('div');
                categoryHeader.className = 'category-header';
                categoryHeader.style.cssText = `
                    display: flex;
                    align-items: center;
                    margin-bottom: 20px;
                    gap: 15px;
                `;

                // Category icon
                const categoryIcon = document.createElement('div');
                categoryIcon.className = 'category-icon';
                categoryIcon.style.cssText = `
                    width: 50px;
                    height: 50px;
                    background: ${category.color}20;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 24px;
                    box-shadow: 0 0 15px ${category.color}40;
                    animation: pulseGlow 2s infinite, rotateIcon 3s ease-in-out infinite;
                    position: relative;
                `;
                categoryIcon.textContent = category.icon;

                // Category title
                const categoryTitle = document.createElement('div');
                categoryTitle.className = 'category-title';
                categoryTitle.style.cssText = `
                    font-size: 22px;
                    font-weight: bold;
                    color: ${category.color};
                `;
                categoryTitle.textContent = category.name;

                // Assemble category header
                categoryHeader.appendChild(categoryIcon);
                categoryHeader.appendChild(categoryTitle);

                // Skills grid
                const skillsGrid = document.createElement('div');
                skillsGrid.className = 'skills-grid';
                skillsGrid.style.cssText = `
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                    gap: 20px;
                    margin-top: 20px;
                `;

                // Create skill cards
                category.skills.forEach((skill, skillIndex) => {
                    const skillCard = document.createElement('div');
                    skillCard.className = 'skill-card';
                    skillCard.style.cssText = `
                        background: rgba(10, 20, 40, 0.5);
                        border: 1px solid ${category.color};
                        border-radius: 10px;
                        padding: 20px;
                        position: relative;
                        overflow: hidden;
                        transform: scale(0.9);
                        opacity: 0;
                        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) ${0.1 * skillIndex}s;
                    `;

                    // Skill content
                    const skillContent = document.createElement('div');
                    skillContent.className = 'skill-content';
                    skillContent.style.cssText = `
                        position: relative;
                        z-index: 2;
                    `;

                    // Skill name
                    const skillName = document.createElement('div');
                    skillName.className = 'skill-name';
                    skillName.style.cssText = `
                        font-size: 18px;
                        font-weight: bold;
                        margin-bottom: 10px;
                        color: white;
                    `;
                    skillName.textContent = skill;

                    // Skill mastery visualization (without percentages)
                    const masteryBar = document.createElement('div');
                    masteryBar.className = 'mastery-container';
                    masteryBar.style.cssText = `
                        height: 8px;
                        background: rgba(255, 255, 255, 0.1);
                        border-radius: 4px;
                        overflow: hidden;
                        margin-bottom: 15px;
                    `;

                    // Mastery level indicator (animated bar)
                    const masteryLevel = document.createElement('div');
                    masteryLevel.className = 'mastery-level';
                    masteryLevel.style.cssText = `
                        height: 100%;
                        width: 0;
                        background: linear-gradient(90deg, ${category.color}, ${category.color}80);
                        border-radius: 4px;
                        animation: expandBar 1.5s ease-out forwards;
                        animation-delay: ${0.5 + categoryIndex * 0.2 + skillIndex * 0.1}s;
                    `;
                    masteryBar.appendChild(masteryLevel);

                    // Skill experience tags
                    const experienceTags = document.createElement('div');
                    experienceTags.className = 'experience-tags';
                    experienceTags.style.cssText = `
                        display: flex;
                        flex-wrap: wrap;
                        gap: 8px;
                    `;

                    // Create experience tags based on skill
                    const tags = getSkillTags(skill);
                    tags.forEach(tag => {
                        const tagElement = document.createElement('span');
                        tagElement.className = 'experience-tag';
                        tagElement.style.cssText = `
                            background: ${category.color}20;
                            color: ${category.color};
                            padding: 4px 10px;
                            border-radius: 20px;
                            font-size: 12px;
                            white-space: nowrap;
                        `;
                        tagElement.textContent = tag;
                        experienceTags.appendChild(tagElement);
                    });

                    // Assemble skill card
                    skillContent.appendChild(skillName);
                    skillContent.appendChild(masteryBar);
                    skillContent.appendChild(experienceTags);
                    skillCard.appendChild(skillContent);
                    skillsGrid.appendChild(skillCard);

                    // Add hover effects
                    skillCard.addEventListener('mouseenter', () => {
                        skillCard.style.transform = 'scale(1.05)';
                        skillCard.style.boxShadow = `0 0 20px ${category.color}40`;
                    });

                    skillCard.addEventListener('mouseleave', () => {
                        skillCard.style.transform = 'scale(1)';
                        skillCard.style.boxShadow = 'none';
                    });
                });

                // Assemble category section
                categorySection.appendChild(scanEffect);
                categorySection.appendChild(categoryHeader);
                categorySection.appendChild(skillsGrid);
                skillsContainer.appendChild(categorySection);
            });

            // Helper function to get skill-specific tags
            function getSkillTags(skill) {
                switch (skill) {
                    case 'Laravel':
                        return ['API Development', 'MVC', 'Eloquent ORM'];
                    case 'Laravel Livewire':
                        return ['Real-time UI', 'TALL Stack', 'Interactive'];
                    case 'Python':
                        return ['Data Processing', 'Automation', 'Scripting'];
                    case 'Machine Learning':
                        return ['Predictive Models', 'Data Analysis', 'TensorFlow'];
                    case 'Tailwind CSS':
                        return ['Responsive Design', 'Utility-first', 'Custom UI'];
                    case 'JavaScript':
                        return ['DOM Manipulation', 'ES6+', 'Async/Await'];
                    case 'Animation':
                        return ['CSS Animations', 'GSAP', 'Motion Design'];
                    default:
                        return ['Experienced', 'Proficient'];
                }
            }

            // Add container to the page
            container.appendChild(skillsContainer);

            // Animate elements
            setTimeout(() => {
                // Animate categories
                const categories = document.querySelectorAll('.skill-category');
                categories.forEach(category => {
                    category.style.opacity = '1';
                    category.style.transform = 'translateY(0)';
                });

                // Animate skill cards
                setTimeout(() => {
                    const skillCards = document.querySelectorAll('.skill-card');
                    skillCards.forEach(card => {
                        card.style.opacity = '1';
                        card.style.transform = 'scale(1)';
                    });
                }, 500);
            }, 300);
        }

        // Generate Vision content
        function generateVision() {
            const container = document.getElementById('vision-container');

            // Clear any existing content
            container.innerHTML = '';

            // Create vision content
            const visionContent = document.createElement('div');
            visionContent.className = 'vision-content';
            visionContent.style.cssText = `
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                align-items: center;
                margin-top: 20px;
            `;

            // Create vision text
            const visionText = document.createElement('div');
            visionText.className = 'vision-text';
            visionText.style.cssText = `
                opacity: 0;
                transform: translateX(-30px);
                transition: all 0.5s ease 0.3s;
            `;

            visionText.innerHTML = `
                <p style="font-size: 18px; line-height: 1.7; margin-bottom: 20px;">
                    Saya percaya bahwa teknologi memiliki kekuatan untuk mengubah kehidupan banyak orang. Di masa depan, saya ingin menjadi seorang software engineer yang tidak hanya ahli secara teknis, tetapi juga mampu menciptakan solusi digital yang bermanfaat bagi masyarakat luas.
                </p>
                
                <p style="font-size: 18px; line-height: 1.7; margin-bottom: 20px;">
                    Aku bersemangat dalam mengeksplorasi:
                </p>
                
                <ul style="list-style-type: none; padding: 0;">
                    <li style="
                        margin-bottom: 15px;
                        padding-left: 30px;
                        position: relative;
                        opacity: 0;
                        transform: translateY(20px);
                        transition: all 0.5s ease 0.5s;
                    ">
                        <div style="
                            position: absolute;
                            left: 0;
                            top: 50%;
                            transform: translateY(-50%);
                            width: 15px;
                            height: 15px;
                            background: #9c27b0;
                            border-radius: 50%;
                            box-shadow: 0 0 10px #9c27b0;
                        "></div>
                        <span>Pengembangan perangkat lunak untuk menyelesaikan masalah nyata</span>
                    </li>
                    <li style="
                        margin-bottom: 15px;
                        padding-left: 30px;
                        position: relative;
                        opacity: 0;
                        transform: translateY(20px);
                        transition: all 0.5s ease 0.7s;
                    ">
                        <div style="
                            position: absolute;
                            left: 0;
                            top: 50%;
                            transform: translateY(-50%);
                            width: 15px;
                            height: 15px;
                            background: #9c27b0;
                            border-radius: 50%;
                            box-shadow: 0 0 10px #9c27b0;
                        "></div>
                        <span>Pembuatan produk digital yang berguna dan berdampak</span>
                    </li>
                    <li style="
                        margin-bottom: 15px;
                        padding-left: 30px;
                        position: relative;
                        opacity: 0;
                        transform: translateY(20px);
                        transition: all 0.5s ease 0.9s;
                    ">
                        <div style="
                            position: absolute;
                            left: 0;
                            top: 50%;
                            transform: translateY(-50%);
                            width: 15px;
                            height: 15px;
                            background: #9c27b0;
                            border-radius: 50%;
                            box-shadow: 0 0 10px #9c27b0;
                        "></div>
                        <span>Startup teknologi yang tumbuh dari ide sederhana</span>
                    </li>
                </ul>
            `;

            // Create vision visualization
            const visionVisual = document.createElement('div');
            visionVisual.className = 'vision-visual';
            visionVisual.style.cssText = `
                height: 300px;
                background: radial-gradient(circle, rgba(156, 39, 176, 0.2) 0%, rgba(0, 0, 0, 0) 70%);
                border-radius: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
                opacity: 0;
                transform: translateX(30px);
                transition: all 0.5s ease 0.3s;
                overflow: hidden;
            `;

            // Futuristic grid lines
            for (let i = 0; i < 6; i++) {
                const horizontalLine = document.createElement('div');
                horizontalLine.style.cssText = `
                    position: absolute;
                    left: 0;
                    right: 0;
                    height: 1px;
                    background: rgba(156, 39, 176, 0.3);
                    top: ${i * 20}%;
                `;
                visionVisual.appendChild(horizontalLine);

                const verticalLine = document.createElement('div');
                verticalLine.style.cssText = `
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    width: 1px;
                    background: rgba(156, 39, 176, 0.3);
                    left: ${i * 20}%;
                `;
                visionVisual.appendChild(verticalLine);
            }

            // Central orb
            const centralOrb = document.createElement('div');
            centralOrb.style.cssText = `
                width: 100px;
                height: 100px;
                background: radial-gradient(circle, rgba(156, 39, 176, 0.7) 0%, rgba(156, 39, 176, 0.2) 70%);
                border-radius: 50%;
                box-shadow: 0 0 30px rgba(156, 39, 176, 0.8);
                position: relative;
                animation: pulse 3s infinite;
            `;

            // Orbiting smaller orbs
            for (let i = 0; i < 3; i++) {
                const orbitingOrb = document.createElement('div');
                const angle = (i / 3) * Math.PI * 2;
                const radius = 80;

                orbitingOrb.style.cssText = `
                    width: 20px;
                    height: 20px;
                    background: #9c27b0;
                    border-radius: 50%;
                    position: absolute;
                    box-shadow: 0 0 15px #9c27b0;
                    animation: orbit ${4 + i}s linear infinite;
                `;

                // Add keyframes for orbit animation
                const style = document.createElement('style');
                style.textContent += `
                    @keyframes orbit {
                        0% { transform: rotate(0deg) translateX(${radius}px) rotate(0deg); }
                        100% { transform: rotate(360deg) translateX(${radius}px) rotate(-360deg); }
                    }
                `;
                document.head.appendChild(style);

                centralOrb.appendChild(orbitingOrb);
            }

            visionVisual.appendChild(centralOrb);

            // Assemble vision content
            visionContent.appendChild(visionText);
            visionContent.appendChild(visionVisual);
            container.appendChild(visionContent);

            // Animate elements
            setTimeout(() => {
                visionText.style.opacity = '1';
                visionText.style.transform = 'translateX(0)';

                visionVisual.style.opacity = '1';
                visionVisual.style.transform = 'translateX(0)';

                // Animate list items
                const listItems = visionText.querySelectorAll('li');
                listItems.forEach(item => {
                    item.style.opacity = '1';
                    item.style.transform = 'translateY(0)';
                });
            }, 300);
        }

        // Generate Testimonials content
        function generateCertificate() {
            const container = document.getElementById('testimonials-container');

            // Clear any existing content
            container.innerHTML = '';

            // Ubah judul bagian
            const sectionTitle = document.querySelector('#side5-content h2');
            if (sectionTitle) {
                sectionTitle.textContent = 'Sertifikat & Penghargaan';
            }

            // Tambahkan deskripsi
            const description = document.createElement('p');
            description.style.cssText = `
                text-align: center;
                margin-bottom: 40px;
                color: #dddddd;
                font-size: 16px;
                max-width: 700px;
                margin-left: auto;
                margin-right: auto;
            `;
            description.textContent = 'Berikut adalah sertifikat yang telah saya peroleh dari beberapa Platform Course.';
            container.appendChild(description);

            // Buat container untuk sertifikat
            const certificatesWrapper = document.createElement('div');
            certificatesWrapper.className = 'certificates-wrapper';
            certificatesWrapper.style.cssText = `
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 60px;
                padding: 20px;
            `;

            // Daftar sertifikat (hanya 2 sesuai permintaan)
            const certificates = [
                {
                    title: 'Visualisasi Data',
                    issuer: 'Dicoding Indonesia',
                    date: 'September 2024 - September 2027',
                    description: 'Sertifikat ini menunjukkan kemampuan dalam mengolah dan memvisualisasikan data secara efektif menggunakan berbagai tools dan library.',
                    imageUrl: 'Certificate/VisualisasiData.png',
                    credentialUrl: 'https://www.dicoding.com/certificates/EYX4J75MJZDL',
                    color: '#2196F3'
                },
                {
                    title: 'Python Dasar',
                    issuer: 'Dicoding Indonesia',
                    date: 'November 2024 - November 2027',
                    description: 'Sertifikat ini membuktikan penguasaan dasar-dasar pemrograman Python, termasuk sintaks, struktur data, dan algoritma dasar.',
                    imageUrl: 'Certificate/PythonDasar.png',
                    credentialUrl: 'https://www.dicoding.com/certificates/4EXG712Q1PRL',
                    color: '#4CAF50'
                }
            ];

            // Tambahkan style untuk animasi
            const style = document.createElement('style');
            style.textContent = `
                @keyframes floatAnimation {
                    0% { transform: translateY(0); }
                    50% { transform: translateY(-10px); }
                    100% { transform: translateY(0); }
                }
                
                @keyframes shimmer {
                    0% { background-position: -100% 0; }
                    100% { background-position: 200% 0; }
                }
                
                @keyframes fadeInUp {
                    from {
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                @keyframes borderGlow {
                    0% { box-shadow: 0 0 10px var(--certificate-color); }
                    50% { box-shadow: 0 0 25px var(--certificate-color); }
                    100% { box-shadow: 0 0 10px var(--certificate-color); }
                }
                
                .certificate-card {
                    position: relative;
                    background: rgba(15, 25, 40, 0.8);
                    border-radius: 15px;
                    overflow: hidden;
                    width: 100%;
                    max-width: 800px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    display: flex;
                    flex-direction: column;
                    animation: fadeInUp 0.8s forwards, borderGlow 3s infinite;
                    --certificate-color: var(--color);
                }
                
                .certificate-header {
                    padding: 25px;
                    background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), transparent);
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                }
                
                .certificate-logo {
                    height: 40px;
                    object-fit: contain;
                    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
                }
                
                .certificate-body {
                    display: flex;
                    padding: 0;
                }
                
                .certificate-image-container {
                    flex: 1;
                    overflow: hidden;
                    position: relative;
                    min-height: 250px;
                }
                
                .certificate-image {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    transition: transform 0.5s ease;
                }
                
                .certificate-image:hover {
                    transform: scale(1.05);
                }
                
                .certificate-image-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: linear-gradient(to bottom, 
                        rgba(0, 0, 0, 0) 0%,
                        rgba(0, 0, 0, 0.7) 100%);
                    pointer-events: none;
                }
                
                .certificate-content {
                    flex: 1;
                    padding: 25px;
                    display: flex;
                    flex-direction: column;
                }
                
                .certificate-title {
                    font-size: 24px;
                    font-weight: bold;
                    margin-bottom: 10px;
                    color: white;
                }
                
                .certificate-issuer {
                    font-size: 16px;
                    color: var(--color);
                    margin-bottom: 5px;
                    font-weight: bold;
                }
                
                .certificate-date {
                    font-size: 14px;
                    color: #aaaaaa;
                    margin-bottom: 20px;
                }
                
                .certificate-description {
                    font-size: 14px;
                    line-height: 1.6;
                    color: rgba(255, 255, 255, 0.8);
                    margin-bottom: 20px;
                }
                
                .certificate-link {
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                    background: var(--color);
                    color: white;
                    text-decoration: none;
                    padding: 10px 20px;
                    border-radius: 30px;
                    font-weight: bold;
                    font-size: 14px;
                    transition: all 0.3s ease;
                    margin-top: auto;
                    align-self: flex-start;
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                }
                
                .certificate-link:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
                }
                
                .certificate-badge {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    background: var(--color);
                    color: white;
                    padding: 5px 15px;
                    border-radius: 20px;
                    font-size: 12px;
                    font-weight: bold;
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                    z-index: 10;
                }
                
                @media (max-width: 768px) {
                    .certificate-body {
                        flex-direction: column;
                    }
                    
                    .certificate-image-container {
                        min-height: 200px;
                    }
                }
            `;
            document.head.appendChild(style);

            // Buat kartu sertifikat
            certificates.forEach((certificate, index) => {
                // Buat container untuk setiap sertifikat
                const certificateCard = document.createElement('div');
                certificateCard.className = 'certificate-card';
                certificateCard.style.cssText = `
                    --color: ${certificate.color};
                    opacity: 0;
                    animation-delay: ${index * 0.3}s;
                `;

                // Header dengan logo
                const certificateHeader = document.createElement('div');
                certificateHeader.className = 'certificate-header';

                const certificateTitle = document.createElement('h3');
                certificateTitle.className = 'certificate-title';
                certificateTitle.textContent = certificate.title;

                certificateHeader.appendChild(certificateTitle);

                // Badge
                const certificateBadge = document.createElement('div');
                certificateBadge.className = 'certificate-badge';
                certificateBadge.textContent = 'Verified';

                // Body dengan gambar dan konten
                const certificateBody = document.createElement('div');
                certificateBody.className = 'certificate-body';

                // Container gambar
                const imageContainer = document.createElement('div');
                imageContainer.className = 'certificate-image-container';

                const certificateImage = document.createElement('img');
                certificateImage.className = 'certificate-image';
                certificateImage.src = certificate.imageUrl;
                certificateImage.alt = `${certificate.title} Certificate`;
                certificateImage.onerror = function () {
                    // Fallback jika gambar tidak tersedia
                    this.src = 'https://via.placeholder.com/400x300?text=Certificate+Image';
                };

                const imageOverlay = document.createElement('div');
                imageOverlay.className = 'certificate-image-overlay';

                imageContainer.appendChild(certificateImage);
                imageContainer.appendChild(imageOverlay);

                // Konten sertifikat
                const certificateContent = document.createElement('div');
                certificateContent.className = 'certificate-content';

                const issuerName = document.createElement('div');
                issuerName.className = 'certificate-issuer';
                issuerName.textContent = certificate.issuer;

                const issuerDate = document.createElement('div');
                issuerDate.className = 'certificate-date';
                issuerDate.textContent = certificate.date;

                const description = document.createElement('div');
                description.className = 'certificate-description';
                description.textContent = certificate.description;

                const credentialLink = document.createElement('a');
                credentialLink.className = 'certificate-link';
                credentialLink.href = certificate.credentialUrl;
                credentialLink.target = '_blank';
                credentialLink.innerHTML = '<span>🔍</span> Lihat Kredensial';

                certificateContent.appendChild(issuerName);
                certificateContent.appendChild(issuerDate);
                certificateContent.appendChild(description);
                certificateContent.appendChild(credentialLink);

                certificateBody.appendChild(imageContainer);
                certificateBody.appendChild(certificateContent);

                // Susun elemen-elemen
                certificateCard.appendChild(certificateHeader);
                certificateCard.appendChild(certificateBadge);
                certificateCard.appendChild(certificateBody);

                certificatesWrapper.appendChild(certificateCard);
            });

            container.appendChild(certificatesWrapper);

            // Animasi masuk untuk kartu sertifikat
            setTimeout(() => {
                const cards = document.querySelectorAll('.certificate-card');
                cards.forEach((card, index) => {
                    setTimeout(() => {
                        card.style.opacity = '1';
                    }, index * 300);
                });
            }, 300);
        }

        // Generate Gallery content
        function generateGallery() {
            const container = document.getElementById('gallery-container');
            container.innerHTML = '';

            // Ubah judul bagian
            const sectionTitle = document.querySelector('#side6-content h2');
            if (sectionTitle) {
                sectionTitle.textContent = 'Hubungi Saya';
            }

            // Tambahkan style untuk desain baru
            const style = document.createElement('style');
            style.textContent = `
        .contact-wrapper {
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .contact-header {
            position: relative;
            height: auto;
            min-height: 350px;
            overflow: hidden;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .contact-header-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4a00e0, #8e2de2);
            background-size: 300% 300%;
            z-index: 1;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .contact-header-content {
            position: relative;
            z-index: 3;
            display: flex;
            height: 100%;
            padding: 30px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .contact-profile-wrapper {
            position: relative;
            width: 220px;
            height: 220px;
            flex-shrink: 0;
            margin: 0 auto;
            z-index: 2;
        }
        
        .contact-profile {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid rgba(255, 255, 255, 0.8);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: profilePulse 3s infinite alternate;
            position: relative;
            z-index: 2;
            aspect-ratio: 1/1;
        }
        
        .contact-profile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }
        
        .profile-glow {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(142, 45, 226, 0.4) 0%, transparent 70%);
            filter: blur(15px);
            z-index: 1;
            animation: glowPulse 3s infinite alternate;
        }
        
        @keyframes glowPulse {
            0% { opacity: 0.5; transform: scale(1); }
            100% { opacity: 0.8; transform: scale(1.1); }
        }
        
        .profile-ring {
            position: absolute;
            top: -15px;
            left: -15px;
            right: -15px;
            bottom: -15px;
            border: 2px dashed rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            z-index: 1;
            animation: spinRing 20s linear infinite;
        }
        
        @keyframes spinRing {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .contact-header-text {
            flex: 1;
            color: white;
            min-width: 250px;
            max-width: 500px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .contact-header-text h3 {
            font-size: 32px;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            animation: textGlow 3s infinite alternate;
            position: relative;
            display: inline-block;
        }
        
        @keyframes textGlow {
            0% { text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); }
            100% { text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(142, 45, 226, 0.5); }
        }
        
        .contact-header-text h3::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: white;
            animation: lineExpand 3s ease-in-out infinite;
        }
        
        @keyframes lineExpand {
            0%, 100% { width: 0; }
            50% { width: 100%; }
        }
        
        .contact-header-text p {
            font-size: 16px;
            line-height: 1.6;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .contact-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            pointer-events: none;
            animation: floatParticle var(--duration) linear infinite;
        }
        
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .contact-card {
            background: rgba(20, 30, 50, 0.7);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            animation: fadeInUp 0.6s ease-out both;
            animation-delay: calc(var(--index) * 0.1s);
        }
        
        .contact-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .contact-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--card-color) 0%, transparent 80%);
            opacity: 0.1;
            z-index: -1;
            transition: opacity 0.4s ease;
        }
        
        .contact-card:hover::before {
            opacity: 0.2;
        }
        
        .contact-card-header {
            padding: 20px;
            background: var(--card-color);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .contact-card-header::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .contact-card:hover .contact-card-header::after {
            opacity: 1;
            animation: pulseGlow 2s infinite;
        }
        
        .contact-icon {
            font-size: 28px;
            margin-bottom: 10px;
            display: inline-block;
            transition: transform 0.3s ease;
        }
        
        .contact-card:hover .contact-icon {
            animation: bounce 1s infinite;
        }
        
        .contact-title {
            font-size: 20px;
            font-weight: 600;
            margin: 0;
        }
        
        .contact-card-body {
            padding: 20px;
            color: #e0e0e0;
        }
        
        .contact-value {
            font-size: 16px;
            margin-bottom: 15px;
            word-break: break-word;
        }
        
        .contact-button {
            display: inline-flex;
            align-items: center;
            background: var(--card-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .contact-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .contact-button span {
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        
        .contact-button:hover span {
            transform: translateX(5px);
        }
        
        .contact-form-container {
            background: rgba(20, 30, 50, 0.7);
            border-radius: 15px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s ease-out 0.5s both;
        }
        
        .contact-form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #4a00e0, #8e2de2, #4a00e0);
            background-size: 200% 100%;
            animation: gradientFlow 3s linear infinite;
        }
        
        .form-title {
            font-size: 28px;
            color: white;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .form-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #8e2de2, transparent);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #e0e0e0;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .form-control {
            width: 100%;
            background: rgba(10, 15, 30, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 15px;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #8e2de2;
            box-shadow: 0 0 0 3px rgba(142, 45, 226, 0.2);
        }
        
        .form-control:focus + .form-highlight {
            width: 100%;
        }
        
        .form-highlight {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #4a00e0, #8e2de2);
            transition: width 0.3s ease;
        }
        
        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #4a00e0, #8e2de2);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 14px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            position: relative;
            overflow: hidden;
            margin-top: 20px;
        }
        
        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent);
            transition: left 0.7s ease;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .submit-btn:hover::before {
            left: 100%;
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        /* Animasi */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes gradientFlow {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
        }
        
        @keyframes pulseGlow {
            0% { opacity: 0.3; }
            50% { opacity: 0.6; }
            100% { opacity: 0.3; }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        @keyframes profilePulse {
            0% { 
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7),
                           0 5px 15px rgba(0, 0, 0, 0.3);
            }
            100% { 
                box-shadow: 0 0 0 15px rgba(255, 255, 255, 0),
                           0 5px 15px rgba(0, 0, 0, 0.3);
            }
        }
        
        @keyframes floatParticle {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: var(--opacity);
            }
            90% {
                opacity: var(--opacity);
            }
            100% {
                transform: translateY(var(--travel-y)) translateX(var(--travel-x));
                opacity: 0;
            }
        }
        
        @media (max-width: 768px) {
            .contact-header {
                min-height: auto;
                padding: 20px 0;
            }
            
            .contact-header-content {
                flex-direction: column;
                padding: 20px;
                gap: 20px;
                text-align: center;
            }
            
            .contact-profile-wrapper {
                width: 180px;
                height: 180px;
                margin-bottom: 10px;
            }
            
            .contact-header-text {
                text-align: center;
                padding: 20px;
                min-width: auto;
                width: 100%;
                margin-left: 0;
            }
            
            .contact-header-text h3 {
                font-size: 28px;
                margin-bottom: 10px;
            }
            
            .contact-header-text p {
                font-size: 14px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .contact-profile-wrapper {
                width: 150px;
                height: 150px;
            }
            
            .contact-header-text h3 {
                font-size: 24px;
            }
        }
    `;
            document.head.appendChild(style);

            // Buat container utama
            const contactWrapper = document.createElement('div');
            contactWrapper.className = 'contact-wrapper';

            // Header dengan gambar profil
            const contactHeader = document.createElement('div');
            contactHeader.className = 'contact-header';

            const headerBg = document.createElement('div');
            headerBg.className = 'contact-header-bg';

            // Tambahkan partikel untuk efek animasi
            const particles = document.createElement('div');
            particles.className = 'contact-particles';

            // Buat partikel acak
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';

                const size = Math.random() * 6 + 2;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const travelX = (Math.random() - 0.5) * 200;
                const travelY = (Math.random() - 0.5) * 200;
                const duration = Math.random() * 10 + 10;
                const opacity = Math.random() * 0.5 + 0.3;

                particle.style.cssText = `
            width: ${size}px;
            height: ${size}px;
            left: ${posX}%;
            top: ${posY}%;
            --travel-x: ${travelX}px;
            --travel-y: ${travelY}px;
            --duration: ${duration}s;
            --opacity: ${opacity};
        `;

                particles.appendChild(particle);
            }

            const headerContent = document.createElement('div');
            headerContent.className = 'contact-header-content';

            // Buat wrapper untuk profil untuk menambahkan efek
            const profileWrapper = document.createElement('div');
            profileWrapper.className = 'contact-profile-wrapper';

            // Tambahkan efek glow di belakang profil
            const profileGlow = document.createElement('div');
            profileGlow.className = 'profile-glow';

            // Tambahkan cincin berputar di sekitar profil
            const profileRing = document.createElement('div');
            profileRing.className = 'profile-ring';

            const profileContainer = document.createElement('div');
            profileContainer.className = 'contact-profile';

            // Tambahkan gambar profil
            const profileImg = document.createElement('img');
            profileImg.src = 'Profile.jpg';
            profileImg.alt = 'Diandra Cahya';
            profileContainer.appendChild(profileImg);

            // Susun elemen profil
            profileWrapper.appendChild(profileGlow);
            profileWrapper.appendChild(profileRing);
            profileWrapper.appendChild(profileContainer);

            const headerText = document.createElement('div');
            headerText.className = 'contact-header-text';

            const headerTitle = document.createElement('h3');
            headerTitle.textContent = 'Mari Terhubung!';

            const headerDesc = document.createElement('p');
            headerDesc.textContent = 'Tertarik untuk berkolaborasi atau memiliki pertanyaan? Silakan hubungi saya melalui salah satu platform berikut atau kirim pesan langsung.';

            headerText.appendChild(headerTitle);
            headerText.appendChild(headerDesc);

            headerContent.appendChild(profileWrapper);
            headerContent.appendChild(headerText);

            contactHeader.appendChild(headerBg);
            contactHeader.appendChild(particles);
            contactHeader.appendChild(headerContent);

            contactWrapper.appendChild(contactHeader);

            // Grid kontak
            const contactGrid = document.createElement('div');
            contactGrid.className = 'contact-grid';

            // Data kontak
            const contacts = [
                {
                    icon: '✉️',
                    title: 'Email',
                    value: 'diandracahya4@gmail.com',
                    link: 'mailto:diandracahya4@gmail.com',
                    linkText: 'Kirim Email',
                    color: '#4a00e0'
                },
                {
                    icon: '🔗',
                    title: 'LinkedIn',
                    value: 'linkedin.com/in/diandracahya',
                    link: 'https://www.linkedin.com/in/diandra-cahya-saputra-55a2b9326/',
                    linkText: 'Lihat Profil',
                    color: '#0077B5'
                },
                {
                    icon: '💻',
                    title: 'GitHub',
                    value: 'github.com/diandracahya',
                    link: 'https://github.com/diandracahya',
                    linkText: 'Lihat Repositori',
                    color: '#6e5494'
                },
                {
                    icon: '📱',
                    title: 'WhatsApp',
                    value: '+62 812 3456 7890',
                    link: 'https://wa.me/6288235633749',
                    linkText: 'Kirim Pesan',
                    color: '#25D366'
                },
                {
                    icon: '📸',
                    title: 'Instagram',
                    value: '@diandracahya',
                    link: 'https://instagram.com/diandra.cahya.s',
                    linkText: 'Ikuti Saya',
                    color: '#E1306C'
                }
            ];

            // Buat kartu kontak
            contacts.forEach((contact, index) => {
                const contactCard = document.createElement('div');
                contactCard.className = 'contact-card';
                contactCard.style.cssText = `
            --card-color: ${contact.color};
            --index: ${index};
        `;

                const cardHeader = document.createElement('div');
                cardHeader.className = 'contact-card-header';

                const icon = document.createElement('div');
                icon.className = 'contact-icon';
                icon.textContent = contact.icon;

                const title = document.createElement('h4');
                title.className = 'contact-title';
                title.textContent = contact.title;

                cardHeader.appendChild(icon);
                cardHeader.appendChild(title);

                const cardBody = document.createElement('div');
                cardBody.className = 'contact-card-body';

                const value = document.createElement('div');
                value.className = 'contact-value';
                value.textContent = contact.value;

                const button = document.createElement('a');
                button.className = 'contact-button';
                button.href = contact.link;
                button.target = '_blank';
                button.innerHTML = `${contact.linkText} <span>→</span>`;

                cardBody.appendChild(value);
                cardBody.appendChild(button);

                contactCard.appendChild(cardHeader);
                contactCard.appendChild(cardBody);

                contactGrid.appendChild(contactCard);
            });

            contactWrapper.appendChild(contactGrid);

            // Form kontak
            const formContainer = document.createElement('div');
            formContainer.className = 'contact-form-container';

            const formTitle = document.createElement('h3');
            formTitle.className = 'form-title';
            formTitle.textContent = 'Kirim Pesan Langsung';

            const form = document.createElement('form');
            form.onsubmit = (e) => {
                e.preventDefault();
                alert('Terima kasih! Pesan Anda telah dikirim.');
                form.reset();
            };

            // Baris pertama form (nama dan email)
            const formRow1 = document.createElement('div');
            formRow1.className = 'form-row';

            // Nama
            const nameGroup = document.createElement('div');
            nameGroup.className = 'form-group';

            const nameLabel = document.createElement('label');
            nameLabel.className = 'form-label';
            nameLabel.textContent = 'Nama';
            nameLabel.htmlFor = 'contact-name';

            const nameInput = document.createElement('input');
            nameInput.className = 'form-control';
            nameInput.type = 'text';
            nameInput.id = 'contact-name';
            nameInput.placeholder = 'Masukkan nama Anda';
            nameInput.required = true;

            const nameHighlight = document.createElement('div');
            nameHighlight.className = 'form-highlight';

            nameGroup.appendChild(nameLabel);
            nameGroup.appendChild(nameInput);
            nameGroup.appendChild(nameHighlight);

            // Email
            const emailGroup = document.createElement('div');
            emailGroup.className = 'form-group';

            const emailLabel = document.createElement('label');
            emailLabel.className = 'form-label';
            emailLabel.textContent = 'Email';
            emailLabel.htmlFor = 'contact-email';

            const emailInput = document.createElement('input');
            emailInput.className = 'form-control';
            emailInput.type = 'email';
            emailInput.id = 'contact-email';
            emailInput.placeholder = 'Masukkan email Anda';
            emailInput.required = true;

            const emailHighlight = document.createElement('div');
            emailHighlight.className = 'form-highlight';

            emailGroup.appendChild(emailLabel);
            emailGroup.appendChild(emailInput);
            emailGroup.appendChild(emailHighlight);

            formRow1.appendChild(nameGroup);
            formRow1.appendChild(emailGroup);

            // Subjek
            const subjectGroup = document.createElement('div');
            subjectGroup.className = 'form-group';

            const subjectLabel = document.createElement('label');
            subjectLabel.className = 'form-label';
            subjectLabel.textContent = 'Subjek';
            subjectLabel.htmlFor = 'contact-subject';

            const subjectInput = document.createElement('input');
            subjectInput.className = 'form-control';
            subjectInput.type = 'text';
            subjectInput.id = 'contact-subject';
            subjectInput.placeholder = 'Masukkan subjek pesan';
            subjectInput.required = true;

            const subjectHighlight = document.createElement('div');
            subjectHighlight.className = 'form-highlight';

            subjectGroup.appendChild(subjectLabel);
            subjectGroup.appendChild(subjectInput);
            subjectGroup.appendChild(subjectHighlight);

            // Pesan
            const messageGroup = document.createElement('div');
            messageGroup.className = 'form-group';

            const messageLabel = document.createElement('label');
            messageLabel.className = 'form-label';
            messageLabel.textContent = 'Pesan';
            messageLabel.htmlFor = 'contact-message';

            const messageInput = document.createElement('textarea');
            messageInput.className = 'form-control';
            messageInput.id = 'contact-message';
            messageInput.placeholder = 'Tulis pesan Anda di sini...';
            messageInput.required = true;

            const messageHighlight = document.createElement('div');
            messageHighlight.className = 'form-highlight';

            messageGroup.appendChild(messageLabel);
            messageGroup.appendChild(messageInput);
            messageGroup.appendChild(messageHighlight);

            // Tombol kirim
            const submitButton = document.createElement('button');
            submitButton.className = 'submit-btn';
            submitButton.type = 'submit';
            submitButton.textContent = 'Kirim Pesan';

            // Tambahkan efek ripple pada klik tombol
            submitButton.addEventListener('click', function (e) {
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const ripple = document.createElement('span');
                ripple.style.cssText = `
            position: absolute;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s linear;
            top: ${y}px;
            left: ${x}px;
        `;

                this.appendChild(ripple);

                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });

            // Tambahkan style untuk animasi ripple
            const rippleStyle = document.createElement('style');
            rippleStyle.textContent = `
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    `;
            document.head.appendChild(rippleStyle);

            // Susun form
            form.appendChild(formRow1);
            form.appendChild(subjectGroup);
            form.appendChild(messageGroup);
            form.appendChild(submitButton);

            formContainer.appendChild(formTitle);
            formContainer.appendChild(form);

            contactWrapper.appendChild(formContainer);

            // Tambahkan ke container utama
            container.appendChild(contactWrapper);
        }

        // Animate to core when all sides are discovered
        function animateToCore() {
            explodeCubeAndOpenCore();
        }

        // Create special particles for core transformation
        function createCoreTransformParticles() {
            const particleCount = 100;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'core-particle';

                // Random position around the cube
                const radius = 2;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;

                const x = radius * Math.sin(phi) * Math.cos(theta);
                const y = radius * Math.sin(phi) * Math.sin(theta);
                const z = radius * Math.cos(phi);

                // Convert 3D position to screen coordinates
                const vector = new THREE.Vector3(x, y, z);
                vector.project(camera);

                const screenX = (vector.x * 0.5 + 0.5) * window.innerWidth;
                const screenY = (vector.y * -0.5 + 0.5) * window.innerHeight;

                // Create particle styling
                particle.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 5 + 2}px;
                    height: ${Math.random() * 5 + 2}px;
                    background: #00a1ff;
                    border-radius: 50%;
                    left: ${screenX}px;
                    top: ${screenY}px;
                    box-shadow: 0 0 10px #00a1ff;
                    pointer-events: none;
                    z-index: 100;
                `;

                document.body.appendChild(particle);

                // Animate particle
                gsap.to(particle, {
                    opacity: 0,
                    scale: 0,
                    x: (Math.random() - 0.5) * 200,
                    y: (Math.random() - 0.5) * 200,
                    duration: 2 + Math.random() * 2,
                    ease: "power2.out",
                    delay: Math.random() * 0.5,
                    onComplete: () => {
                        particle.remove();
                    }
                });
            }
        }

        // Update particles position and animation
        function updateParticles() {
            if (!particleSystem) return;

            const positions = particleSystem.geometry.attributes.position.array;

            particles.forEach(particle => {
                // Update position based on velocity
                positions[particle.index * 3] += particle.velocity.x;
                positions[particle.index * 3 + 1] += particle.velocity.y;
                positions[particle.index * 3 + 2] += particle.velocity.z;

                // Add slight randomness to movement
                particle.velocity.x += (Math.random() - 0.5) * 0.002;
                particle.velocity.y += (Math.random() - 0.5) * 0.002;
                particle.velocity.z += (Math.random() - 0.5) * 0.002;

                // Dampen velocity for stability
                particle.velocity.x *= 0.99;
                particle.velocity.y *= 0.99;
                particle.velocity.z *= 0.99;

                // Contain particles within a boundary
                const pos = new THREE.Vector3(
                    positions[particle.index * 3],
                    positions[particle.index * 3 + 1],
                    positions[particle.index * 3 + 2]
                );

                const distance = pos.length();

                // If particle is too far, bring it back
                if (distance > 10) {
                    particle.velocity.x -= pos.x * 0.001;
                    particle.velocity.y -= pos.y * 0.001;
                    particle.velocity.z -= pos.z * 0.001;
                }
            });

            // Update the particle positions
            particleSystem.geometry.attributes.position.needsUpdate = true;
        }

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            // Update cube rotation
            if (isRotating && !transforming) {
                cube.rotation.x += (targetRotation.x - cube.rotation.x) * 0.05;
                cube.rotation.y += (targetRotation.y - cube.rotation.y) * 0.05;
            }

            // Update wave effect on faces
            cubeFaces.forEach(face => {
                if (face.userData.isWaving) {
                    const positions = face.geometry.attributes.position.array;
                    face.userData.waveTime += 0.1;

                    for (let i = 0; i < positions.length; i += 3) {
                        const x = positions[i];
                        const y = positions[i + 1];

                        // Create wave effect
                        const amplitude = 0.05;
                        const frequency = 3;
                        const wave = Math.sin(frequency * (x + y) + face.userData.waveTime) * amplitude;

                        positions[i + 2] = wave;
                    }

                    face.geometry.attributes.position.needsUpdate = true;
                }
            });

            // Update particles
            updateParticles();

            // Update point light
            if (pointLight) {
                const time = Date.now() * 0.001;
                pointLight.position.x = Math.sin(time) * 1.5;
                pointLight.position.y = Math.cos(time * 0.7) * 1.5;
                pointLight.position.z = Math.cos(time * 0.3) * 1.5;
            }

            renderer.render(scene, camera);
        }
    </script>
</body>

</html>